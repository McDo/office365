/*! Hammer.JS - v1.0.6dev - 2013-07-31
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(f,p){function l(){if(!a.READY){a.event.determineEventTypes();for(var b in a.gestures)a.gestures.hasOwnProperty(b)&&a.detection.register(a.gestures[b]);a.event.onTouch(a.DOCUMENT,a.EVENT_MOVE,a.detection.detect);a.event.onTouch(a.DOCUMENT,a.EVENT_END,a.detection.detect);a.READY=!0}}var a=function(b,c){return new a.Instance(b,c||{})};a.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};a.HAS_POINTEREVENTS=f.navigator.pointerEnabled||f.navigator.msPointerEnabled;a.HAS_TOUCHEVENTS="ontouchstart"in f;a.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;a.NO_MOUSEEVENTS=a.HAS_TOUCHEVENTS&&f.navigator.userAgent.match(a.MOBILE_REGEX);a.EVENT_TYPES={};a.DIRECTION_DOWN="down";a.DIRECTION_LEFT="left";a.DIRECTION_UP="up";a.DIRECTION_RIGHT="right";a.POINTER_MOUSE="mouse";a.POINTER_TOUCH="touch";a.POINTER_PEN="pen";a.EVENT_START="start";a.EVENT_MOVE="move";a.EVENT_END="end";a.DOCUMENT=f.document;a.plugins={};a.READY=!1;a.Instance=function(b,c){var d=this;l();this.element=b;this.enabled=!0;this.options=a.utils.extend(a.utils.extend({},a.defaults),c||{});this.options.stop_browser_behavior&&a.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);a.event.onTouch(b,a.EVENT_START,function(b){d.enabled&&a.detection.startDetect(d,b)});return this};a.Instance.prototype={on:function(b,c){for(var a=b.split(" "),e=0;e<a.length;e++)this.element.addEventListener(a[e],c,!1);return this},off:function(b,c){for(var a=b.split(" "),e=0;e<a.length;e++)this.element.removeEventListener(a[e],c,!1);return this},trigger:function(b,c){var d=a.DOCUMENT.createEvent("Event");d.initEvent(b,!0,!0);d.gesture=c;var e=this.element;a.utils.hasParent(c.target,e)&&(e=c.target);e.dispatchEvent(d);return this},enable:function(b){this.enabled=b;return this}};var n=null,g=!1,k=!1;a.event={bindDom:function(b,c,a){c=c.split(" ");for(var e=0;e<c.length;e++)b.addEventListener(c[e],a,!1)},onTouch:function(b,c,d){var e=this;this.bindDom(b,a.EVENT_TYPES[c],function(h){var m=h.type.toLowerCase();if(!m.match(/mouse/)||!k){m.match(/touch/)||m.match(/pointerdown/)||m.match(/mouse/)&&1===h.which?g=!0:m.match(/mouse/)&&1!==h.which&&(g=!1);m.match(/touch|pointer/)&&(k=!0);var f=0;if(g){a.HAS_POINTEREVENTS&&c!=a.EVENT_END?f=a.PointerEvent.updatePointer(c,h):m.match(/touch/)?f=h.touches.length:k||(f=m.match(/up/)?0:1);0<f&&c==a.EVENT_END?c=a.EVENT_MOVE:f||(c=a.EVENT_END);if(f||null===n)n=h;d.call(a.detection,e.collectEventData(b,c,e.getTouchList(n,c),h));a.HAS_POINTEREVENTS&&c==a.EVENT_END&&(f=a.PointerEvent.updatePointer(c,h))}f||(n=null,k=g=!1,a.PointerEvent.reset())}})},determineEventTypes:function(){var b;b=a.HAS_POINTEREVENTS?a.PointerEvent.getEvents():a.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];a.EVENT_TYPES[a.EVENT_START]=b[0];a.EVENT_TYPES[a.EVENT_MOVE]=b[1];a.EVENT_TYPES[a.EVENT_END]=b[2]},getTouchList:function(b){if(a.HAS_POINTEREVENTS)return a.PointerEvent.getTouchList();if(b.touches)return b.touches;b.indentifier=1;return[b]},collectEventData:function(b,c,d,e){b=a.POINTER_TOUCH;if(e.type.match(/mouse/)||a.PointerEvent.matchType(a.POINTER_MOUSE,e))b=a.POINTER_MOUSE;return{center:a.utils.getCenter(d),timeStamp:(new Date).getTime(),target:e.target,touches:d,eventType:c,pointerType:b,srcEvent:e,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation();this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return a.detection.stopDetect()}}}};a.PointerEvent={pointers:{},getTouchList:function(){var b=this,a=[];Object.keys(b.pointers).sort().forEach(function(d){a.push(b.pointers[d])});return a},updatePointer:function(b,c){b==a.EVENT_END?this.pointers={}:(c.identifier=c.pointerId,this.pointers[c.pointerId]=c);return Object.keys(this.pointers).length},matchType:function(b,c){if(!c.pointerType)return!1;var d={};d[a.POINTER_MOUSE]=c.pointerType==c.MSPOINTER_TYPE_MOUSE||c.pointerType==a.POINTER_MOUSE;d[a.POINTER_TOUCH]=c.pointerType==c.MSPOINTER_TYPE_TOUCH||c.pointerType==a.POINTER_TOUCH;d[a.POINTER_PEN]=c.pointerType==c.MSPOINTER_TYPE_PEN||c.pointerType==a.POINTER_PEN;return d[b]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};a.utils={extend:function(b,a,d){for(var e in a)b[e]!==p&&d||(b[e]=a[e]);return b},hasParent:function(b,a){for(;b;){if(b==a)return!0;b=b.parentNode}return!1},getCenter:function(b){for(var a=[],d=[],e=0,h=b.length;e<h;e++)a.push(b[e].pageX),d.push(b[e].pageY);return{pageX:(Math.min.apply(Math,a)+Math.max.apply(Math,a))/2,pageY:(Math.min.apply(Math,d)+Math.max.apply(Math,d))/2}},getVelocity:function(b,a,d){return{x:Math.abs(a/b)||0,y:Math.abs(d/b)||0}},getAngle:function(b,a){return 180*Math.atan2(a.pageY-b.pageY,a.pageX-b.pageX)/Math.PI},getDirection:function(b,c){var d=Math.abs(b.pageX-c.pageX),e=Math.abs(b.pageY-c.pageY);return d>=e?0<b.pageX-c.pageX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT:0<b.pageY-c.pageY?a.DIRECTION_UP:a.DIRECTION_DOWN},getDistance:function(b,a){var d=a.pageX-b.pageX,e=a.pageY-b.pageY;return Math.sqrt(d*d+e*e)},getScale:function(a,c){return 2<=a.length&&2<=c.length?this.getDistance(c[0],c[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,c){return 2<=a.length&&2<=c.length?this.getAngle(c[1],c[0])-this.getAngle(a[1],a[0]):0},isVertical:function(b){return b==a.DIRECTION_UP||b==a.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,c){var d,e="webkit khtml moz Moz ms o ".split(" ");if(c&&a.style){for(var h=0;h<e.length;h++)for(var f in c)c.hasOwnProperty(f)&&(d=f,e[h]&&(d=e[h]+d.substring(0,1).toUpperCase()+d.substring(1)),a.style[d]=c[f]);"none"==c.userSelect&&(a.onselectstart=function(){return!1})}}};a.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(b,c){this.current||(this.stopped=!1,this.current={inst:b,startEvent:a.utils.extend({},c),lastEvent:!1,name:""},this.detect(c))},detect:function(b){if(this.current&&!this.stopped){b=this.extendEventData(b);for(var c=this.current.inst.options,d=0,e=this.gestures.length;d<e;d++){var f=this.gestures[d];if(!this.stopped&&!1!==c[f.name]&&!1===f.handler.call(f,b,this.current.inst)){this.stopDetect();break}}this.current&&(this.current.lastEvent=b);b.eventType==a.EVENT_END&&!b.touches.length-1&&this.stopDetect();return b}},stopDetect:function(){this.previous=a.utils.extend({},this.current);this.current=null;this.stopped=!0},extendEventData:function(b){var c=this.current.startEvent;if(c&&(b.touches.length!=c.touches.length||b.touches===c.touches)){c.touches=[];for(var d=0,e=b.touches.length;d<e;d++)c.touches.push(a.utils.extend({},b.touches[d]))}var d=b.timeStamp-c.timeStamp,e=b.center.pageX-c.center.pageX,f=b.center.pageY-c.center.pageY,g=a.utils.getVelocity(d,e,f);a.utils.extend(b,{deltaTime:d,deltaX:e,deltaY:f,velocityX:g.x,velocityY:g.y,distance:a.utils.getDistance(c.center,b.center),angle:a.utils.getAngle(c.center,b.center),direction:a.utils.getDirection(c.center,b.center),scale:a.utils.getScale(c.touches,b.touches),rotation:a.utils.getRotation(c.touches,b.touches),startEvent:c});return b},register:function(b){var c=b.defaults||{};c[b.name]===p&&(c[b.name]=!0);a.utils.extend(a.defaults,c,!0);b.index=b.index||1E3;this.gestures.push(b);this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};a.gestures=a.gestures||{};a.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(b,c){switch(b.eventType){case a.EVENT_START:clearTimeout(this.timer);a.detection.current.name=this.name;this.timer=setTimeout(function(){"hold"==a.detection.current.name&&c.trigger("hold",b)},c.options.hold_timeout);break;case a.EVENT_MOVE:b.distance>c.options.hold_threshold&&clearTimeout(this.timer);break;case a.EVENT_END:clearTimeout(this.timer)}}};a.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(b,c){if(b.eventType==a.EVENT_END){var d=a.detection.previous,e=!1;b.deltaTime>c.options.tap_max_touchtime||b.distance>c.options.tap_max_distance||(d&&("tap"==d.name&&b.timeStamp-d.lastEvent.timeStamp<c.options.doubletap_interval&&b.distance<c.options.doubletap_distance)&&(c.trigger("doubletap",b),e=!0),e&&!c.options.tap_always)||(a.detection.current.name="tap",c.trigger(a.detection.current.name,b))}}};a.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:0.7},handler:function(b,c){b.eventType!=a.EVENT_END||0<c.options.swipe_max_touches&&b.touches.length>c.options.swipe_max_touches||!(b.velocityX>c.options.swipe_velocity||b.velocityY>c.options.swipe_velocity)||(c.trigger(this.name,b),c.trigger(this.name+b.direction,b))}};a.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(b,c){if(a.detection.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),this.triggered=!1;else if(!(0<c.options.drag_max_touches&&b.touches.length>c.options.drag_max_touches))switch(b.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:if(b.distance<c.options.drag_min_distance&&a.detection.current.name!=this.name)break;if(a.detection.current.name!=this.name&&(a.detection.current.name=this.name,c.options.correct_for_drag_min_distance)){var d=Math.abs(c.options.drag_min_distance/b.distance);a.detection.current.startEvent.center.pageX+=b.deltaX*d;a.detection.current.startEvent.center.pageY+=b.deltaY*d;b=a.detection.extendEventData(b)}if(a.detection.current.lastEvent.drag_locked_to_axis||c.options.drag_lock_to_axis&&c.options.drag_lock_min_distance<=b.distance)b.drag_locked_to_axis=!0;d=a.detection.current.lastEvent.direction;b.drag_locked_to_axis&&d!==b.direction&&(a.utils.isVertical(d)?b.direction=0>b.deltaY?a.DIRECTION_UP:a.DIRECTION_DOWN:b.direction=0>b.deltaX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT);this.triggered||(c.trigger(this.name+"start",b),this.triggered=!0);c.trigger(this.name,b);c.trigger(this.name+b.direction,b);(c.options.drag_block_vertical&&a.utils.isVertical(b.direction)||c.options.drag_block_horizontal&&!a.utils.isVertical(b.direction))&&b.preventDefault();break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(b,c){if(a.detection.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),this.triggered=!1;else if(!(2>b.touches.length))switch(c.options.transform_always_block&&b.preventDefault(),b.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:var d=Math.abs(1-b.scale),e=Math.abs(b.rotation);if(d<c.options.transform_min_scale&&e<c.options.transform_min_rotation)break;a.detection.current.name=this.name;this.triggered||(c.trigger(this.name+"start",b),this.triggered=!0);c.trigger(this.name,b);e>c.options.transform_min_rotation&&c.trigger("rotate",b);d>c.options.transform_min_scale&&(c.trigger("pinch",b),c.trigger("pinch"+(1>b.scale?"in":"out"),b));break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(b,c){c.options.prevent_mouseevents&&b.pointerType==a.POINTER_MOUSE?b.stopDetect():(c.options.prevent_default&&b.preventDefault(),b.eventType==a.EVENT_START&&c.trigger(this.name,b))}};a.gestures.Release={name:"release",index:Infinity,handler:function(b,c){b.eventType==a.EVENT_END&&c.trigger(this.name,b)}};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"object"===typeof module&&"object"===typeof module.exports?module.exports=a:f.Hammer=a})(this);(function(f){var p=function(l,a){if(a===f)return l;l.event.bindDom=function(n,g,k){a(n).on(g,function(a){var c=a.originalEvent||a;c.pageX===f&&(c.pageX=a.pageX,c.pageY=a.pageY);c.target||(c.target=a.target);c.which===f&&(c.which=c.button);c.preventDefault||(c.preventDefault=a.preventDefault);c.stopPropagation||(c.stopPropagation=a.stopPropagation);k.call(this,c)})};l.Instance.prototype.on=function(f,g){return a(this.element).on(f,g)};l.Instance.prototype.off=function(f,g){return a(this.element).off(f,g)};l.Instance.prototype.trigger=function(f,g){var k=a(this.element);k.has(g.target).length&&(k=a(g.target));return k.trigger({type:f,gesture:g})};a.fn.hammer=function(f){return this.each(function(){var g=a(this),k=g.data("hammer");k?k&&f&&l.utils.extend(k.options,f):g.data("hammer",new l(this,f||{}))})};return l};"function"===typeof define&&"object"===typeof define.amd&&define.amd?define(["hammer","jquery"],p):p(window.Hammer,window.jQuery||window.Zepto)})();