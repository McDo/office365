{"version":3,"file":"public/javascripts/app.js","sources":["app/initialize.js","app/lib/share.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjNA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;;A","sourcesContent":["\n$(document).ready(function() {\n\n    var scrollTop = 0,\n        slideIdx = 0,\n        slideMaxNum = 5,\n        isAndroid = (/.*android.*mobile.*/i).test(navigator.appVersion);\n\n\tfunction windowHeight () {\n        if ( 'number' === typeof( window.innerWidth ) || 'number' === typeof( window.outerWidth ) ) {\n            // Non-IE\n            return window.innerHeight;\n            // return window.innerHeight;\n        } else if ( document.documentElement && document.documentElement.clientHeight ) {\n            // IE 6+ in 'standards compliant mode'\n            return document.documentElement.clientHeight;\n        } else if ( document.body && document.body.clientHeight ) {\n            // IE 4 compatible\n            return document.body.clientHeight;\n        }\n    }\n\n    function showNavPanel() {\n\n        $(\"#navPanel\").show().height( $(window).height() - $(\"#navBar\").height() + 1 );\n\n        setTimeout(function() {\n            $(\"#navSwitcher\").css({\n                'background-color': '#1bbc9b'\n            });\n\n            if (isAndroid) {\n                $(\"#navPanel\").removeClass(\"hideAndroid\").addClass(\"showAndroid\");\n            } else {\n                $(\"#navPanel\").removeClass(\"hide\").addClass(\"show\");\n            }\n\n            scrollTop = $(document).scrollTop();\n            $('body').addClass('noscroll');\n            $(\"#navSwitcher\").addClass(\"actived\");\n        }, 100);\n    }\n\n    function hideNavPanel() {\n        $(\"#navSwitcher\").css({\n            'background-color': 'black'\n        });\n\n        if (isAndroid) {\n            $(\"#navPanel\").removeClass(\"showAndroid\").addClass(\"hideAndroid\");\n        } else {\n            $(\"#navPanel\").removeClass(\"show\").addClass(\"hide\");\n        }\n\n        $('body').removeClass('noscroll');\n\n        setTimeout(function() {\n            $(\"#navPanel\").hide();\n            $(\"#navSwitcher\").removeClass(\"actived\");\n        }, 400);\n    }\n\n    function slideRight() {\n\n        if ( slideIdx < slideMaxNum - 1 ) {\n\n            $(\"#slider\").hammer().off('swipeleft');\n            $(\"#slider\").hammer().off('swiperight');\n\n            if ( slideIdx + 1 === slideMaxNum - 1 ) $(\".slideRight\").fadeOut(150);\n\n            $(\"#slides\").animate({\n                left: \"-=100%\"\n            }, 420, function() {\n                slideIdx ++ ;\n                if ( slideIdx === 1 ) $(\".slideLeft\").fadeIn(150);\n                $(\"#slider\").hammer().on('swipeleft', slideRight);\n                $(\"#slider\").hammer().on('swiperight', slideLeft);\n            });\n        }\n    }\n\n    function slideLeft() {\n\n        if ( slideIdx > 0 ) {\n\n            $(\"#slider\").hammer().off('swipeleft');\n            $(\"#slider\").hammer().off('swiperight');\n\n            if ( slideIdx - 1 === 0 ) $(\".slideLeft\").fadeOut(150);\n\n            $(\"#slides\").animate({\n                left: \"+=100%\"\n            }, 420, function() {\n                slideIdx -- ;\n                if ( slideIdx === slideMaxNum - 2 ) $(\".slideRight\").fadeIn(150);\n                $(\"#slider\").hammer().on('swipeleft', slideRight);\n                $(\"#slider\").hammer().on('swiperight', slideLeft);\n            });\n        }\n    }\n\n    $(\"#slider\").height( $(window).height() );\n    $(\"#navPanel\").height( $(window).height() - $(\"#navBar\").height() + 1 );\n\n    // Listen for orientation changes\n    $(window).resize(function() {\n        $(\"#slider\").height( $(window).height() );\n        $(\"#navPanel\").height( $(window).height() - $(\"#navBar\").height() + 1 );\n    });\n\n\n    $(\"#navSwitcher\").click(function() {\n\n        if ( ! $(this).hasClass(\"actived\") ) {\n\n            showNavPanel();\n\n        } else {\n\n            hideNavPanel();\n            $('body').scrollTo(scrollTop, 0);\n\n        }\n\n    });\n\n\n    $(\".navBuy\").hammer()\n    .on('touch', function() {\n        if ( $(\"#navSwitcher\").hasClass(\"actived\") ) {\n            $(this).css(\"background-color\", \"#a7372c\");\n        }\n    })\n    .on('release', function() {\n        if ( $(\"#navSwitcher\").hasClass(\"actived\") ) {\n            $(this).css(\"background-color\", \"#e84c3d\");\n\n            hideNavPanel();\n            // window.open(\"#\", \"_blank\");\n        }\n    });\n\n    $(\".navItem\").hammer()\n    .on('touch', function() {\n        if ( $(\"#navSwitcher\").hasClass(\"actived\") ) {\n            $(this).css(\"background-color\", \"#10a687\");\n        }\n    })\n    .on('release', function() {\n        if ( $(\"#navSwitcher\").hasClass(\"actived\") ) {\n            $(this).css(\"background-color\", \"#1bbc9b\");\n\n            hideNavPanel();\n\n            if ( $(this).hasClass(\"navHome\") ) {\n\n                $('body').scrollTo($(\"#slider\"));\n\n            } else if ( $(this).hasClass(\"navActivities\") ) {\n\n                $('body').scrollTo($(\"#activities\"));\n\n            } else if ( $(this).hasClass(\"navFamily\") ) {\n\n                $('body').scrollTo($(\"#family\"));\n\n            } else if ( $(this).hasClass(\"navTools\") ) {\n\n                $('body').scrollTo($(\"#tools\"));\n\n            } \n\n        }\n    });\n\n    $(\".slideRight\").click(function() {\n        slideRight();\n    });\n\n    $(\".slideLeft\").click(function() {\n        slideLeft();\n    });\n\n    $(\"#slider\").hammer({\n        prevent_default: false\n    }).on('swipeleft', function() {\n        slideRight();\n    }).on('swiperight', function() {\n        slideLeft();\n    });\n\n    $(\"#slider\").css({\n        \"-ms-touch-action\": \"pan-y\",\n        \"touch-action\": \"pan-y\"\n    });\n\n    $(\".slide2 .learnMore\").click(function() {\n        $('body').scrollTo($(\"#family\"));\n    });\n\n    $(\".slide3 .learnMore\").click(function() {\n        $('body').scrollTo($(\"#family\"));\n    });\n\n    $(\".slide4 .learnMore\").click(function() {\n        $('body').scrollTo($(\"#family\"));\n    });\n\n});","\nmodule.exports = {\n    content: {\n      title: '',\n      body: '新发现一个极富创意的Office 365家庭高级版网站，大家快来看看！参加#Office 全民创意总动员#活动，为自己创意网页署名并获得Office 365家庭高级版1年使用权和专属你的创意T-shirt！极富创意的你还等什么，标榜自己的时间到了！@微软NewOffice',\n      url: \"http://www.microsoft.com/china/officeconsumer/campaign\"\n    },\n    getPicUrl: function() {\n      return 'http://www.microsoft.com/china/officeconsumer/campaign/images/share2Img.jpg';\n    },\n    sina: function() {\n      var that = this;\n      console.log(that.getPicUrl());\n      window.open('http://v.t.sina.com.cn/share/share.php?title=' + encodeURIComponent([that.content.title, that.content.body].join('')) \n            + '&url=' + encodeURIComponent(that.content.url)\n            + '&pic='+ encodeURIComponent(that.getPicUrl()),\n          '_blank');\n    }, \n    renren: function() {\n      var that = this;\n      window.open('http://widget.renren.com/dialog/share?title=' + encodeURIComponent(that.content.title) \n            + '&description=' + encodeURIComponent(that.content.body)\n            + '&resourceUrl=' + encodeURIComponent(that.content.url)\n            + '&pic=' + encodeURIComponent(that.getPicUrl()),\n          '_blank');\n    }\n};"]}