{"version":3,"file":"public/javascripts/app.js","sources":["app/application.js","app/controller/AppController.js","app/initialize.js","app/lib/animations/cloud.js","app/lib/animations/dinosaur.js","app/lib/animations/flame.js","app/lib/animations/phone.js","app/lib/animations/survivor.js","app/lib/animations/triceratops.js","app/lib/paper/init.js","app/lib/paper/paperSection.js","app/lib/paper/sections.js","app/lib/paper/ssection.js","app/lib/share.js","app/lib/slice.js","app/routes/router.js","app/views/ActivitiesView.js","app/views/FamilyView.js","app/views/NavView.js","app/views/SceneViews/View0.js","app/views/SceneViews/View1.js","app/views/SceneViews/View2.js","app/views/SceneViews/View3.js","app/views/SceneViews/View4.js","app/views/ShareView.js","app/views/SliderView.js","app/views/ToolsView.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1eA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3DA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxGA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1UA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1IA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjqBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3RA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjJA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApSA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3TA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlSA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7DA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5ZA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjfA;;A","sourcesContent":["\nvar AppController = require(\"./controller/AppController\");\nvar Router = require(\"./routes/router\");\n\nvar app = new Marionette.Application();\n\napp.addInitializer(function() {\n    app.controller = new AppController();\n\n    app.router = new Router({\n        controller: app.controller\n    });\n});\n\napp.on(\"initialize:after\", function() {\n\n    if ( Backbone.history ) {\n        Backbone.history.start();\n    }\n\n});\n\nmodule.exports = app;\n","\n/**\n * Global App Controller\n *      app initializator, \n *      conduct transitions between views, \n *      manipulate app routes.\n */\n\n// Helpers\nrequire(\"../lib/paper/init\");\nvar paperSection = require(\"../lib/paper/paperSection\");\n\n// Navigation View\nvar NavView = require(\"../views/NavView\");\n\n// Main Views\nvar SliderView = require(\"../views/SliderView\"),\n    ActivitiesView = require(\"../views/ActivitiesView\"),\n    FamilyView = require(\"../views/FamilyView\"),\n    ToolsView = require(\"../views/ToolsView\"),\n    ShareView = require(\"../views/ShareView\");\n\n// SubViews of SliderView\nvar SceneView0 = require(\"../views/SceneViews/View0\"),\n    SceneView1 = require(\"../views/SceneViews/View1\"),\n    SceneView2 = require(\"../views/SceneViews/View2\"),\n    SceneView3 = require(\"../views/SceneViews/View3\"),\n    SceneView4 = require(\"../views/SceneViews/View4\");\n\n// Controller\nmodule.exports = Marionette.Controller.extend({\n\n\tinitialize: function() {\n        var self = this;\n\n        // the navigation bar view.\n\t\tapp.navView = null;\n\n        // all main views except for the navigation view.\n\t\tapp.allViews = [];\n\n        // current view index.\n\t\tapp.currentView = 0;\n\n        /* set of flags indicate whether a view is using paperjs, \n         * easeljs, etc. for animations and set an 'animation speed'  \n         * for that paperjs rendered view if so. See /lib/paper for\n         * more details.\n         */\n\t\tapp.allViewsWithPaper = [];\n\n        // whether the full-screen page transition being completed or not.\n\t\tapp.pageScrollingCompleted = true;\n\n        /* each view (except for the navigation view) would have its \n         * children elements moved away in 'scrollAwayElementsDuration' \n         * milliseconds before scrolled up/down. And app.scrollAwayTimeOut\n         * is the setTimeout function that ensuring these 2 kind of animations \n         * being animated in proper order.\n         */\n\t\tapp.scrollAwayTimeOut = null;\n\n        app.isiPad = ( -1 !== navigator.userAgent.toLowerCase().indexOf('ipad') ) ? true : false;\n\n        app.windowHeight = function() {\n            if ( 'number' === typeof( window.innerWidth ) || 'number' === typeof( window.outerWidth ) ) {\n                // Non-IE\n                if ( navigator.userAgent.match(/(iPad);.*CPU.*OS 7_\\d.*Safari/i) \n                    && (! navigator.userAgent.match(/crios/i) )\n                    && ( (90 === window.orientation) || (-90 === window.orientation) ) ) {\n                    /* this is for fixing iOS 7 iPad Safari Landscape innerHeight/outerHeight layout issue.\n                     * http://stackoverflow.com/questions/19012135/ios-7-ipad-safari-landscape-innerheight-outerheight-layout-issue\n                     */\n                    return 692;\n                }  else {\n                    return window.innerHeight;\n                }\n            } else if ( document.documentElement && document.documentElement.clientHeight ) {\n                // IE 6+ in 'standards compliant mode'\n                return document.documentElement.clientHeight;\n            } else if ( document.body && document.body.clientHeight ) {\n                // IE 4 compatible\n                return document.body.clientHeight;\n            }\n        };\n        self.$hammer = $(window).hammer({\n            drag_block_vertical: true,\n            swipe_velocity: 0.3\n        });\n\n        _.bindAll(self, \"swipeUpHandler\", \"swipeDownHandler\");\n\n        /**\n         * shipping the app. \n         * 1. init all Backbone views. \n         * 2. full-page transition with touch swiping or mouse scrolling.\n         *    transit to different views using Backbone Routers when swiping\n         *    or scrolling up and down. see routes/router.js.\n         * 3. trigger the 'stopScroll' event which would make paper.js rendered\n         *    views to be animated. see lib/paper/paperSection.js.\n         */\n        $(document).ready( function() {\n\n            app.navView = new NavView({\n                el: $(\"#nav\")\n            });\n\n            app.allViews = [\n                new SliderView({\n                    el: $(\"#slider\"),\n\n                    // initialize subviews for SliderView\n                    subViews: [\n                        new SceneView0({\n                            el: $(\".slide1\")\n                        }),\n                        new SceneView1({\n                            el: $(\".slide2\")\n                        }),\n                        new SceneView2({\n                            el: $(\".slide3\")\n                        }),\n                        new SceneView3({\n                            el: $(\".slide4\")\n                        }),\n                        new SceneView4({\n                            el: $(\".slide5\")\n                        })\n                    ]\n                }),\n\n                new ActivitiesView({\n                    el: $(\"#activities\")\n                }),\n\n                new FamilyView({\n                    el: $(\"#family\")\n                }),\n\n                new ToolsView({\n                    el: $(\"#tools\")\n                }),\n\n                new ShareView({\n                    el: $(\"#share\")\n                })\n            ];\n\n            $(\".container\").each( function ( i ) {\n                if ( $(this).hasClass('paper') ) {\n                    app.allViewsWithPaper[i] = true;\n                } else {\n                    app.allViewsWithPaper[i] = false;\n                }\n            });\n\n            // reset page position to the top most.\n            $(\"#wrapper\").css('top', 0);\n            $(window).scrollTo(0, 1);\n\n            self.$hammer\n            .on('swipeup', self.swipeUpHandler )\n            .on('swipedown', self.swipeDownHandler );\n\n            $(window).mousewheel( function( event, delta ) {\n\n                event.stopPropagation();\n                event.preventDefault();\n\n                /* restore the full-page scrolling when it is completed.\n                 * it is for preventing fast mouse scrolling.\n                 */\n                if ( 0 !== delta \n                     && true === app.pageScrollingCompleted \n                     /* && 0 === paperSection.scrollSpeed */ ) {\n\n                    app.pageScrollingCompleted = false;\n\n                    if ( delta < 0 ) {\n\n                        // scroll from top to bottom.\n                        if ( app.currentView < app.allViews.length - 1 ) {\n                            Backbone.history.navigate(\"!/feature/\" + (app.currentView + 1), {\n                                trigger: true\n                            });\n                        } else {\n                            // restore the page scrolling.\n                            app.pageScrollingCompleted = true;\n                        }\n\n                    } else if ( delta > 0 ) {\n\n                        // scroll from bottom to top.\n                        if ( app.currentView > 0 ) {\n                            Backbone.history.navigate(\"!/feature/\" + (app.currentView - 1), {\n                                trigger: true\n                            });\n                        } else {\n                            // restore the page scrolling.\n                            app.pageScrollingCompleted = true;\n                        }\n\n                    }\n                }\n\n                return false;\n            });\n\n            /* trigger the 'stopScroll' event which would make \n             * paper.js rendered views ( the FamilyView actually ) to be animated. \n             * see lib/paper/paperSection.js.\n             */\n            $(window).on(\"ViewScrollComplete\", function() {\n                clearTimeout(paperSection.timeOut);\n                paperSection.timeOut = setTimeout(function() {\n                    $(window).trigger('stopScroll');\n                }, 50);\n\n                return false;\n            });\n                \n        });\n\t},\n\n    swipeUpHandler: function( e ) {\n        var self = this;\n\n        if ( \"mouse\" !== e.gesture.pointerType \n            && true === app.pageScrollingCompleted ) {\n\n            if ( app.currentView < app.allViews.length - 1 ) {\n                app.pageScrollingCompleted = false;\n\n                Backbone.history.navigate(\"!/feature/\" + (app.currentView + 1), {\n                    trigger: true\n                });\n\n            }\n        }\n    },\n\n    swipeDownHandler: function( e ) {\n        var self = this;\n\n        if ( \"mouse\" !== e.gesture.pointerType \n            && true === app.pageScrollingCompleted ) {\n\n            if ( app.currentView > 0 ) {\n                app.pageScrollingCompleted = false;\n\n                Backbone.history.navigate(\"!/feature/\" + (app.currentView - 1), {\n                    trigger: true\n                });\n\n            }\n        }\n    },\n\n    /**\n     * the essential processes of upward full-page transition.\n     *\n     * @pages: the number of pages that would be scrolled.\n     */\n\t_scrollViewUp: function( pages ) {\n\n        // scrolling 'pages' number of pages...\n        $(\"#wrapper\").animate({\n            'top': '-=' + (100 * pages) + '%'\n        }, 350, 'easeInQuart', function() {\n\n            // the next view has been scrolled in.\n            app.currentView ++;\n\n            /* notify the next view to prepare its full-screen transition\n             * through the pub/sub system. the correspond view who subscribes\n             * this messeage would take care of its animations itself.\n             */\n            app.vent.trigger('view:scrolling:up:completed', app.currentView); \n\n            /* update paper sections only as the paper.js rendered view get \n             * scrolled in since tweenjs updating takes huge pieces of cpu resources. \n             */\n            if ( app.allViewsWithPaper[app.currentView] ) $(window).trigger(\"ViewScrollComplete\");\n\n            /* XXX: ugly timeout for preventing inertia scrolling on mac trackpad \n             * and some of the magic rats. any better solution ? \n             */\n            var _t = setTimeout(function() {\n\n                app.pageScrollingCompleted = true;\n                clearTimeout( _t );\n\n            }, 1000);\n        });\n    },\n\n    /**\n     * the upward full-page transition.\n     *\n     * @pages: the number of pages that would be scrolled.\n     */\n    scrollViewUp: function( pages ) {\n\n        pages = ( typeof pages !== 'undefined' ) ? pages : 1;\n\n        var self = this,\n            _dur = app.allViews[app.currentView].scrollAwayElementsDuration;\n\n        if ( app.currentView < app.allViews.length - 1 ) {\n\n            // adjust scrollSpeed of paperSection.\n            if ( app.allViewsWithPaper[app.currentView + 1] ) {\n                paperSection.scrollSpeed = 60;\n            } else {\n                paperSection.scrollSpeed = 0;\n            }\n\n            /* notify the current view to prepare its full-screen transition\n             * through the pub/sub system. the correspond view who subscribes\n             * this messeage would take care of its animations itself.\n             */\n            app.vent.trigger(\"view:scrolling:up:start\", app.currentView);\n\n            /* scroll the next view in after the sub elements of \n             * previous view being moved away in 'scrollAwayElementsDuration'\n             * milliseconds.\n             */\n            app.scrollAwayTimeOut = setTimeout( function() {\n                self._scrollViewUp( pages );\n                clearTimeout( app.scrollAwayTimeOut );\n            }, _dur);\n\n        } else {\n            app.pageScrollingCompleted = true;\n        }\n    },\n\n    /**\n     * the essential processes of downward full-page transition.\n     *\n     * @pages: the number of pages that would be scrolled down.\n     */\n    _scrollViewDown: function( pages ) {\n\n        // scrolling 'pages' number of pages...\n        $(\"#wrapper\").animate({\n            'top': '+=' + (100 * pages) + '%'\n        }, 350, 'easeInQuart', function() {\n\n            // view has been scrolled to the previous section.\n            app.currentView --;\n\n            /* notify the next view to prepare its full-screen transition\n             * through the pub/sub system. the correspond view who subscribes\n             * this messeage would take care of its animations.\n             */\n            app.vent.trigger('view:scrolling:down:completed', app.currentView); \n\n            /* update paper sections only as the paper.js rendered view get \n             * scrolled in since tweenjs updating takes huge pieces of cpu resources. \n             */\n            if ( app.allViewsWithPaper[app.currentView] ) $(window).trigger(\"ViewScrollComplete\");\n\n            /* XXX: ugly timeout for preventing inertia scrolling on mac trackpad \n             * and some of the magic rats. any better solution? \n             */\n            var _t = setTimeout(function() {\n\n                app.pageScrollingCompleted = true;\n                clearTimeout( _t );\n\n            }, 1000);\n        });\n    }, \n\n    /**\n     * the downward full-page transition.\n     *\n     * @pages: the number of pages that would be scrolled.\n     */\n    scrollViewDown: function( pages ) {\n\n        pages = ( typeof pages !== 'undefined' ) ? pages : 1;\n\n        var self = this,\n            _dur = app.allViews[app.currentView].scrollAwayElementsDuration;\n\n        if ( app.currentView > 0 ) {\n\n            // adjust scrollspeed of paperSection.\n            if ( app.allViewsWithPaper[app.currentView - 1] ) {\n                paperSection.scrollSpeed = -60;\n            } else {\n                paperSection.scrollSpeed = 0;\n            } \n\n            /* notify the current view to prepare its full-screen transition\n             * through the pub/sub system. the correspond view who subscribes\n             * this messeage would take care of its animations.\n             */\n            app.vent.trigger(\"view:scrolling:down:start\", app.currentView);\n\n            /* scroll the next view in after the sub elements of \n             * previous view being moved away in 'scrollAwayElementsDuration'\n             * milliseconds.\n             */\n            app.scrollAwayTimeOut = setTimeout(function() {\n                self._scrollViewDown(pages);\n                clearTimeout(app.scrollAwayTimeOut);\n            }, _dur);\n\n        } else {\n            app.pageScrollingCompleted = true;\n        }\n    },\n\n    /** \n     * scroll to the 'share' view.\n     */\n    share: function() {\n        var self = this;\n        self.scrollTo(4);\n    },\n\n    /**\n     * scroll to a specific view.\n     *\n     * @id: the view id.\n     */\n    scrollTo: function( id ) {\n        var self = this,\n            idRestrictPattern = /^[0-4]$/g,\n            pages = 0;\n\n        if ( idRestrictPattern.test( id ) ) {\n\n        \t$(document).ready( function() {\n\n            \tid = parseInt(id);\n                pages = id - app.currentView;\n                app.pageScrollingCompleted = false;\n\n                if ( 0 === id ) {\n                \t// change the app route to default silently.\n\t                Backbone.history.navigate(\"\", {\n\t                    trigger: false\n\t                });\n                } else if ( 4 === id ) {\n                    // change the app route to \"/#!/share\" silently.\n                    Backbone.history.navigate(\"!/share\", {\n                        trigger: false\n                    });\n                }\n\n                if ( pages > 0 ) {\n\n                    // animate the navigation bar.\n                \tapp.navView.navCurtainAnimation( app.currentView, id );\n                \tapp.currentView = id - 1;\n                    self.scrollViewUp( pages );\n\n                } else if ( pages < 0 ) {\n\n                    // animate the navigation bar.\n            \t    app.navView.navCurtainAnimation( app.currentView, id );\n                \tapp.currentView = id + 1;\n                    self.scrollViewDown( -pages );\n\n                }\n\t        });\n\n        } else {\n            /* handle the missing routes:\n             * reload the page. \n             */\n            self.missing();\n        }\n\n    },\n\n    /**\n     * handle the missing routes.\n     * reload the page. \n     */\n    missing: function() {\n        Backbone.history.navigate(\"\", {\n            trigger: false\n        });\n        location.reload();\n    }\n});","\n/** \n * globel application object. \n * mediator & event aggregator.\n */\napp = require(\"application\");\n\napp.start();\n","//EaselJS Spritesheet\nvar spritesheetPath='./sprites/cloud.png';\n\n// cloud\nvar cloud = function() {this.initialize();}\ncloud._SpriteSheet = new createjs.SpriteSheet({\n\n\timages: [spritesheetPath], \n\tframes:[\n\t\t[0, 0, 219, 260, 0, 0, 0],\n\t\t[219, 0, 219, 260, 0, 0, 0],\n\t\t[438, 0, 219, 260, 0, 0, 0],\n\t\t[0, 260, 219, 260, 0, 0, 0],\n\t\t[219, 260, 219, 260, 0, 0, 0]\n\t],\n\tanimations: {\n\t\tsignal: { \n\t\t\tframes: [0, 1, 2, 3, 4], \n\t\t\tfrequency: 4, \n\t\t\tnext: true\n\t\t}\n\t}\n});\n\nvar cloud_p = cloud.prototype = new createjs.BitmapAnimation();\ncloud_p.BitmapAnimation_initialize = cloud_p.initialize;\ncloud_p.initialize = function() {\n\tthis.BitmapAnimation_initialize(cloud._SpriteSheet);\n\tthis.paused = false;\n}\n\nmodule.exports = cloud;\n","//EaselJS Spritesheet\nvar spritesheetPath='./sprites/dinosaur.png';\n\n// dinosaur\nvar dinosaur = function() {this.initialize();}\ndinosaur._SpriteSheet = new createjs.SpriteSheet({\n\timages: [spritesheetPath], \n\tframes:[\n\t\t[0, 0, 229, 247, 0, 0, 0],\n\t\t[229, 0, 229, 247, 0, 0, 0]\n\t],\n\tanimations: {\n\t\tsurrender: { \n\t\t\tframes:[0, 1],\n\t\t\t// frequency: 3, \n\t\t\tfrequency: 3, \n\t\t\tnext: true\n\t\t},\n\n\t\tidle: {\n\t\t\tframes:[0],\n\t\t\t// frequency: 4,\n\t\t\tfrequency: 4,\n\t\t\tnext: true\n\t\t}\n\t}\n});\n\nvar dinosaur_p = dinosaur.prototype = new createjs.BitmapAnimation();\ndinosaur_p.BitmapAnimation_initialize = dinosaur_p.initialize;\ndinosaur_p.initialize = function() {\n\tthis.BitmapAnimation_initialize(dinosaur._SpriteSheet);\n\tthis.paused = false;\n}\n\nmodule.exports = dinosaur;\n\n","//EaselJS Spritesheet\nvar spritesheetPath='./sprites/fire.png';\n// var spritesheetPath='./sprites/flame.png';\n\n// fire\nvar fire = function() {this.initialize();}\nfire._SpriteSheet = new createjs.SpriteSheet({\n\timages: [spritesheetPath], \n\tframes:[\n\t\t[0, 0, 141, 205, 0, 0, 0],\n\t\t[141, 0, 141, 205, 0, 0, 0],\n\t\t[282, 0, 141, 205, 0, 0, 0],\n\t\t[0, 205, 141, 205, 0, 0, 0],\n\t\t[141, 205, 141, 205, 0, 0, 0],\n\t\t[282, 205, 141, 205, 0, 0, 0],\n\t\t[0, 410, 141, 205, 0, 0, 0]\n\t\t// [0, 0, 123, 175, 0, 0, 0],\n\t\t// [123, 0, 123, 175, 0, 0, 0],\n\t\t// [246, 0, 123, 175, 0, 0, 0],\n\t\t// [0, 175, 123, 175, 0, 0, 0],\n\t\t// [123, 175, 123, 175, 0, 0, 0],\n\t\t// [246, 175, 123, 175, 0, 0, 0],\n\t\t// [0, 350, 123, 175, 0, 0, 0]\n\t],\n\tanimations: {\n\t\tstartFire: {\n\t\t\tframes: [0, 1, 2, 3],\n\t\t\t// frequency: 4,\n\t\t\tfrequency: 2,\n\t\t\tnext: \"fire1\"\n\t\t},\n\t\tfire1: {\n\t\t\tframes: [4, 5, 6],\n\t\t\t// frequency: 5,\n\t\t\tfrequency: 3,\n\t\t\tnext: \"fire2\"\n\t\t},\n\t\tfire2: {\n\t\t\tframes: [0, 1, 2],\n\t\t\t// frequency: 4,\n\t\t\tfrequency: 2,\n\t\t\tnext: \"fire3\"\n\t\t},\n\t\tfire3: {\n\t\t\tframes: [1, 0],\n\t\t\tfrequency: 3,\n\t\t\tnext: \"startFire\"\n\t\t}\n\t}\n});\n\nvar fire_p = fire.prototype = new createjs.BitmapAnimation();\nfire_p.BitmapAnimation_initialize = fire_p.initialize;\nfire_p.initialize = function() {\n\tthis.BitmapAnimation_initialize(fire._SpriteSheet);\n\tthis.paused = false;\n}\n\nmodule.exports = fire;\n","//EaselJS Spritesheet\nvar spritesheetPath='./sprites/phone.png';\n\n// phone\nvar phone = function() {this.initialize();}\nphone._SpriteSheet = new createjs.SpriteSheet({\n\n\timages: [spritesheetPath], \n\tframes:[\n\t\t[0, 0, 121, 158, 0, 0, 0],\n\t\t[121, 0, 121, 158, 0, 0, 0]\n\t],\n\tanimations: {\n\t\twarning:{ \n\t\t\tframes:[0, 1, 1, 1, 1, 1, 1, 0], \n\t\t\tfrequency:4, \n\t\t\tnext:true\n\t\t}\n\t}\n});\n\nvar phone_p = phone.prototype = new createjs.BitmapAnimation();\nphone_p.BitmapAnimation_initialize = phone_p.initialize;\nphone_p.initialize = function() {\n\tthis.BitmapAnimation_initialize(phone._SpriteSheet);\n\tthis.paused = false;\n}\n\nmodule.exports = phone;\n","//EaselJS Spritesheet\nvar spritesheetPath='./sprites/survivor.png';\n\n// survivor\nvar survivor = function() {this.initialize();}\nsurvivor._SpriteSheet = new createjs.SpriteSheet({\n\timages: [spritesheetPath], \n\tframes: [\n\t\t[0, 0, 715, 235, 0, 0, 0],\n\t\t[715, 0, 715, 235, 0, 0, 0]\n\t],\n\tanimations: {\n\t\twave: { \n\t\t\tframes: [0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0], \n\t\t\tfrequency: 3, \n\t\t\tnext: true\n\t\t}\n\t}\n});\n\nvar survivor_p = survivor.prototype = new createjs.BitmapAnimation();\nsurvivor_p.BitmapAnimation_initialize = survivor_p.initialize;\nsurvivor_p.initialize = function() {\n\tthis.BitmapAnimation_initialize(survivor._SpriteSheet);\n\tthis.paused = false;\n}\n\nmodule.exports = survivor;\n\n","//EaselJS Spritesheet\nvar spritesheetPath='./sprites/triceratops.png';\n\n// triceratops\nvar triceratops = function() {this.initialize();}\ntriceratops._SpriteSheet = new createjs.SpriteSheet(\n\t{\n\timages: [spritesheetPath], \n\tframes:[\n\t\t[0, 0, 214, 233, 0, 0, 0],\n\t\t[214, 0, 214, 233, 0, 0, 0],\n\t\t[428, 0, 214, 233, 0, 0, 0],\n\t\t[0, 233, 214, 233, 0, 0, 0],\n\t\t[214, 233, 214, 233, 0, 0, 0],\n\t\t[428, 233, 214, 233, 0, 0, 0],\n\t\t[0, 466, 214, 233, 0, 0, 0],\n\t\t[214, 466, 214, 233, 0, 0, 0]\n\t],\n\tanimations: {\n\t\tdizzy: { \n\t\t\tframes: [0, 1, 2, 3, 4, 5, 6, 7, ], \n\t\t\tfrequency: 2, \n\t\t\tnext: true\n\t\t}\n\t}\n});\n\nvar triceratops_p = triceratops.prototype = new createjs.BitmapAnimation();\ntriceratops_p.BitmapAnimation_initialize = triceratops_p.initialize;\ntriceratops_p.initialize = function() {\n\tthis.BitmapAnimation_initialize(triceratops._SpriteSheet);\n\tthis.paused = false;\n}\n\nmodule.exports = triceratops;\n","\npaper.install(window);\n\nPath.prototype.setWidth = function(width) {\n  this.segments[3].point.x = this.segments[0].point.x + width;\n  return this.segments[2].point.x = this.segments[1].point.x + width;\n};\n\nPath.prototype.setHeight = function(height) {\n  this.segments[1].point.y = this.segments[0].point.y + height;\n  return this.segments[2].point.y = this.segments[3].point.y + height;\n};\n\nPath.prototype.reset = function() {\n  this.setWidth(0);\n  this.setHeight(0);\n  return this.smooth();\n};","\n/**\n * bouncing animation effect using paperjs and tweenjs.\n * the idea is originated from the \"Jelly Navigation Menu\" by Oleg Solomka, Smashingmagazine.\n * http://coding.smashingmagazine.com/2013/08/15/jelly-navigation-menu-canvas-paperjs/\n */\n \nmodule.exports = {\n\ti: 0, \n  \tnext: 0, \n  \tprev: 0, \n  \tstop: false,\n  \ttimeOut: null,\n  \tff: typeof InstallTrigger !== 'undefined', \n  \twin: navigator.appVersion.indexOf(\"Win\") !== -1,\n  \tscrollSpeed: 0\n};","\n/**\n * bouncing animation effect using paperjs and tweenjs.\n * the idea is originated from the \"Jelly Navigation Menu\" by Oleg Solomka, Smashingmagazine.\n * http://coding.smashingmagazine.com/2013/08/15/jelly-navigation-menu-canvas-paperjs/\n */\n\nvar SSection = require(\"./ssection\");\n\n/** \n * [parameter] o: {\n *     view,\n *     $content,\n *     $section,\n *     sectionsCount,\n *\t   offset[0...N] -> {x, y},\n *\t   size[0...N] -> {width, height},\n *     colors[0...N]\n * }\n */\nfunction Sections(o) {\n\tvar i, section, _i, _ref1, _ref2;\n\n    if ((_ref1 = this.contents) == null) {\n      this.contents = [];\n    }\n\n    for (i = _i = _ref2 = o.sectionsCount - 1; _ref2 <= 0 ? _i <= 0 : _i >= 0; i = _ref2 <= 0 ? ++_i : --_i) {\n\n      section = new SSection({\n          view: o.view,\n      \t\t$content: o.$content,\n      \t\t$sections: o.$sections,\n\n        \toffset: {\n        \t\tx: o.offset[i].x,\n        \t\ty: o.offset[i].y - 5\n        \t}, size: {\n        \t\twidth: o.size[i].width + 1,\n        \t\theight: o.size[i].height + 5\n        \t},\n\n        \tcolor: o.colors[i]\n      });\n\n      section.index = i;\n      this.contents.push(section);\n    }\n    //XXX: should trigger some events here with app.vent\n    // $(window).trigger('menu:ready');\n}\n\nSections.prototype.update = function() {\n    var i, it, _i, _len, _ref1, _results;\n\n    _ref1 = this.contents;\n    _results = [];\n    for (i = _i = 0, _len = _ref1.length; _i < _len; i = ++_i) {\n      it = _ref1[i];\n      _results.push(it.update());\n    }\n    return _results;\n};\n\nSections.prototype.popSection = function(n) {\n    var i, _i, _ref1, _results;\n\n    TWEEN.removeAll();\n    _results = [];\n\n    for (i = _i = _ref1 = this.contents.length - 1; _ref1 <= 0 ? _i <= 0 : _i >= 0; i = _ref1 <= 0 ? ++_i : --_i) {\n    \t  if (i > this.contents.length - n - 1) {\n        \t  this.contents[i].popDOWN();\n      \t}\n\n      \tif (this.contents.length - n - 1 === i) {\n        \t  this.contents[i].pop();\n      \t}\n\n      \tif (i < this.contents.length - n - 1) {\n        \t  _results.push(this.contents[i].popDOWN());\n      \t} else {\n        \t  _results.push(void 0);\n      \t}\n    }\n\n    return _results;\n};\n\n\nSections.prototype.teardown = function() {\n    var i, _i, _ref1, _results = [];\n\n    for (i = _i = _ref1 = this.contents.length - 1; _ref1 <= 0 ? _i <= 0 : _i >= 0; i = _ref1 <= 0 ? ++_i : --_i) {\n    \tthis.contents[i].base.remove();\n      \tthis.contents[i].notListenToStop();\n      \t_results.push(delete this.contents[i]);\n    }\n\n    return _results;\n};\n\n\nmodule.exports = Sections;\n","\n/**\n * bouncing animation effect using paperjs and tweenjs.\n * the idea is originated from the \"Jelly Navigation Menu\" by Oleg Solomka, Smashingmagazine.\n * http://coding.smashingmagazine.com/2013/08/15/jelly-navigation-menu-canvas-paperjs/\n */\n\nvar paperSection = require(\"./paperSection\"),\n    slice = require(\"../slice\");\n\n/**\n * [parameter] o: {\n *     view,\n *     $content,\n *     $sections,\n *\n *     offset: {\n *         x,\n *         y\n *     },\n *\n *     size: {\n *         width,\n *         height\n *     },\n *\n *     color\n * }\n */\nfunction SSection(o) {\n    this.o = o;\n    this.w = o.view.size.width;\n    this.h = o.view.size.height;\n    this.ph = 60;\n    this.sh = this.procent(this.h, this.ph);\n    this.wh = 1 * this.w;\n    this.gapSize = this.procent(this.h, (100 - this.ph) / 2);\n    this.twns = [];\n    this.getPrefix();\n    this.makeBase();\n    this.listenToStop();\n    paperSection.timeOut = 0;\n}\n\nSSection.prototype.getPrefix = function() {\n    var pre, styles;\n\n    styles = window.getComputedStyle(document.documentElement, \"\");\n    pre = (Array.prototype.slice.call(styles).join(\"\").match(/-(moz|webkit|ms)-/) || (styles.OLink === \"\" && [\"\", \"o\"]))[1];\n    this.prefix = \"-\" + pre + \"-\";\n    return this.transformPrefix = \"\" + this.prefix + \"transform\";\n};\n\nSSection.prototype.listenToStop = function() {\n    var _this = this;\n\n    $(window).on('ViewScrollComplete', function() {\n\t\t    _this.stop = false;\n\t      _this.poped = false;\n\t      return TWEEN.removeAll();\n    });\n\n    return $(window).on('stopScroll', function() {\n    \tvar duration;\n      \n      \t_this.stop = true;\n      \tduration = slice(Math.abs(paperSection.scrollSpeed * 25), 1400) || 3000;\n      \t_this.translatePointY({\n            point: _this.base.segments[1].handleOut,\n        \t  to: 0,\n        \t  duration: duration\n      \t}).then(function() {\n        \t  return paperSection.scrollSpeed = 0;\n      \t});\n\n      \treturn _this.translatePointY({\n        \t  point: _this.base.segments[3].handleOut,\n        \t  to: 0,\n        \t  duration: duration\n      \t});\n    });\n};\n\n/** \n * [parameter] o: {\n *     point,\n *     to,\n *     duration,\n *\t   easing,\n *     onUpdate\n * }\n */\nSSection.prototype.translateLine = function(o) {\n    var dfr = new $.Deferred;\n    var mTW = new TWEEN.Tween(new Point(o.point)).to(new Point(o.to), o.duration);\n    var _this = this, it = this;\n\n    mTW.easing(o.easing || TWEEN.Easing.Elastic.Out);\n    mTW.onUpdate(o.onUpdate || function(a) {\n        var _ref1;\n      \to.point.y = this.y;\n      \treturn (_ref1 = o.point2) != null ? _ref1.y = this.y : void 0;\n    });\n\n    mTW.onComplete(function() {\n      \treturn dfr.resolve();\n    });\n\n    mTW.start();\n    return dfr.promise();\n};\n\nSSection.prototype.notListenToStop = function() {\n    $(window).off('stopScroll');\n    return $(window).off('ViewScrollComplete');\n};\n\n\n/** \n * [parameter] o: {\n *     point,\n *\t   easing\n * }\n */\nSSection.prototype.translatePointY = function(o) {\n    var dfr = new $.Deferred;\n    var mTW = new TWEEN.Tween(new Point(o.point)).to(new Point(o.to), o.duration);\n    var _this = this, it = this;\n\n    mTW.easing(o.easing || TWEEN.Easing.Elastic.Out);\n    mTW.onUpdate(o.onUpdate || function(a) {\n        o.point.y = this.y;\n        !it.poped && _this.o.$content.attr('style', \"\" + it.transformPrefix + \": translate3d(0,\" + (this.y / 2) + \"px,0);transform: translate3d(0,\" + (this.y / 2) + \"px,0);\");\n        return (it.poped && !it.popedCenter) && _this.o.$sections.eq(it.index).attr('style', \"\" + it.transformPrefix + \": translate3d(0,\" + (this.y / 2) + \"px,0);transform: translate3d(0,\" + (this.y / 2) + \"px,0);\");\n    });\n\n    mTW.onComplete(function() {\n      \treturn dfr.resolve();\n    });\n\n    mTW.start();\n    return dfr.promise();\n};\n\n/** \n * [parameter] o: {\n *     point,\n *     easing\n * }\n */\nSSection.prototype.translatePointX = function(o) {\n    var dfr = new $.Deferred;\n    var mTW = new TWEEN.Tween(new Point(o.point)).to(new Point(o.to), o.duration);\n    var _this = this, it = this;\n\n    mTW.easing(o.easing || TWEEN.Easing.Elastic.Out);\n    mTW.onUpdate(o.onUpdate || function(a) {\n        o.point.x = this.x;\n        return (it.poped && !it.popedCenter) && _this.o.$sections.eq(it.index).attr('style', \"\" + it.transformPrefix + \": translate3d(\"(this.x / 2), + \"px,0,0);transform: translate3d(\"(this.x / 2), + \"px,0,0);\");\n    });\n\n    mTW.onComplete(function() {\n        return dfr.resolve();\n    });\n\n    mTW.start();\n    return dfr.promise();\n};\n\nSSection.prototype.makeBase = function() {\n  var that = this;\n    this.base = new Path.Rectangle(new Point(that.o.offset.x, that.o.offset.y), [that.o.size.width, that.o.size.height]);\n    return this.base.fillColor = this.o.color;\n};\n\nSSection.prototype.toppie = function(amount) {\n    this.base.segments[1].handleOut.y = amount;\n    return this.base.segments[1].handleOut.x = this.wh / 5.5;\n};\n\nSSection.prototype.bottie = function(amount) {\n    this.base.segments[3].handleOut.y = amount;\n    return this.base.segments[3].handleOut.x = -this.wh / 5.5;\n};\n\n/** \n * [parameter] o: {\n *     points,\n *     flatten,\n *     fillColor\n * }\n */\nSSection.prototype.createPath = function(o) {\n    var path;\n\n    path = new Path(o.points);\n    o.flatten && path.flatten(o.flatten);\n    path.fillColor = o.fillColor || 'transparent';\n    return path;\n};\n\n\nSSection.prototype.update = function() {\n    if ( !this.stop && !this.poped ) {\n      this.toppie(paperSection.scrollSpeed);\n      this.bottie(paperSection.scrollSpeed);\n      this.o.$content.attr('style', \"\" + this.transformPrefix + \": translate3d(0,\" + (paperSection.scrollSpeed / 2) + \"px,0);transform: translate3d(0,\" + (paperSection.scrollSpeed / 2) + \"px,0);\");\n    }\n    return TWEEN.update();\n};\n\nSSection.prototype.procent = function(base, percents) {\n    return (base / 100) * percents;\n};\n\nSSection.prototype.pop = function() {\n    var _this = this;\n\n    this.poped = true;\n    this.popedCenter = true;\n\n    this.translatePointY({\n\n        point: this.base.segments[1].handleOut,\n      \tto: this.o.size.height / 5.75,\n      \tduration: 100,\n      \teasing: TWEEN.Easing.Linear.None\n\n    }).then(function() {\n\n      \t_this.translatePointY({\n      \t    point: _this.base.segments[1].handleOut,\n            to: 0,\n        \t  $content: _this.o.$content,\n        \t  $sections: _this.o.$sections\n      \t}).then(function() {});\n\n      \treturn _this.translatePointY({\n        \t  point: _this.base.segments[3].handleOut,\n        \t  to: 0,\n        \t  $content: _this.o.$content,\n        \t  $sections: _this.o.$sections\n      \t});\n\n    });\n\n    return this.translatePointY({\n      \tpoint: this.base.segments[3].handleOut,\n      \tto: this.o.size.height / 5.75,\n      \tduration: 100,\n      \teasing: TWEEN.Easing.Linear.None,\n      \t$content: this.o.$content,\n        $sections: this.o.$sections\n    });\n\n};\n\n\nSSection.prototype.popUP = function() {\n    var _this = this;\n\n    this.poped = true;\n    this.popedCenter = false;\n\n    this.translatePointY({\n\n    \tpoint: this.base.segments[1].handleOut,\n      \tto: -(this.o.size.height) / 5.75,\n      \tduration: 100,\n      \teasing: TWEEN.Easing.Linear.None\n\n    }).then(function() {\n\n      \t_this.translatePointY({\n        \tpoint: _this.base.segments[1].handleOut,\n        \tto: 0\n      \t}).then(function() {});\n\n      \treturn _this.translatePointY({\n        \tpoint: _this.base.segments[3].handleOut,\n        \tto: 0\n      \t});\n    });\n\n    return this.translatePointY({\n      \tpoint: this.base.segments[3].handleOut,\n      \tto: -(this.o.size.height) / 5.75,\n      \tduration: 100,\n      \teasing: TWEEN.Easing.Linear.None\n    });\n};\n\n\nSSection.prototype.popDOWN = function() {\n    var _this = this;\n\n    this.poped = true;\n    this.popedCenter = false;\n\n    this.translatePointY({\n\n    \tpoint: this.base.segments[1].handleOut,\n      \tto: this.o.size.height / 5.75,\n      \tduration: 100,\n      \teasing: TWEEN.Easing.Linear.None\n\n    }).then(function() {\n\n      \t_this.translatePointY({\n        \tpoint: _this.base.segments[1].handleOut,\n        \tto: 0\n      \t}).then(function() {});\n\n      \treturn _this.translatePointY({\n        \tpoint: _this.base.segments[3].handleOut,\n        \tto: 0\n      \t});\n    });\n\n    return this.translatePointY({\n      \tpoint: this.base.segments[3].handleOut,\n      \tto: this.o.size.height / 5.75,\n      \tduration: 100,\n      \teasing: TWEEN.Easing.Linear.None\n    });\n};\n\n\nmodule.exports = SSection;\n\n","\n/**\n * Share to social media like sina weibo and renren.com.\n */\nmodule.exports = {\n    content: {\n      title: '',\n      body: 'Office 365#Office #Office 3651T-shirt@NewOffice',\n      url: \"http://www.microsoft.com/china/officeconsumer/campaign?CR_CC=200327616\"\n    },\n    getPicUrl: function() {\n      return 'http://www.microsoft.com/china/officeconsumer/campaign/images/share2Img.jpg';\n    },\n    sina: function() {\n      var that = this;\n      window.open('http://v.t.sina.com.cn/share/share.php?title=' \n            + encodeURIComponent([that.content.title, that.content.body].join('')) \n            + '&url=' + encodeURIComponent(that.content.url)\n            + '&pic='+ encodeURIComponent(that.getPicUrl()),\n          '_blank');\n    }, \n    renren: function() {\n      var that = this;\n      window.open('http://widget.renren.com/dialog/share?title=' \n            + encodeURIComponent(that.content.title) \n            + '&description=' + encodeURIComponent(that.content.body)\n            + '&resourceUrl=' + encodeURIComponent(that.content.url)\n            + '&pic=' + encodeURIComponent(that.getPicUrl()),\n          '_blank');\n    }\n};","\nmodule.exports = function ( val, max ) {\n\tif (val > 0 && val > max) {\n\t    return Math.min(val, max);\n  \t}\n  \tif (val < 0 && val < max) {\n    \treturn Math.max(val, -max);\n  \t}\n  \treturn val;\n};","\nmodule.exports = Marionette.AppRouter.extend({\n\n\tappRoutes: {\n\t\t\"!/feature/:id\": \"scrollTo\",\n\t\t\"!/share\": \"share\",\n\n\t\t\":missing\": \"missing\",\n\t\t\"!/:missing\": \"missing\",\n\t\t\"!/:missing/:missing\": \"missing\",\n\t\t\"!/:missing/:missing/:missing\": \"missing\"\n\t}\n\t\n});","\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 2nd view.\n\t */\n\tviewId: 1,\n\t/* the estimated time of moving the \n\t * sub elements away before the view \n\t * being scrolled up or down. \n\t * a 'public' property used by AppController.\n\t */\n\tscrollAwayElementsDuration: 10,\n\n\tinitialize: function() {\n\t\tvar self = this,\n\t\t\t$children = this.$el.children();\n\n\t\t_.bindAll(self, 'adjustViewHeight', \n\t\t\t'scrollElements', 'scrollAwayElements', 'scrollInElements');\n\n\t\tself.adjustViewHeight();\n\t\t$(window).resize(self.adjustViewHeight);\n\t\tself.scrollAwayElements();\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page start scrolling.\n\t\t */\n\t\tapp.vent.on('view:scrolling:up:start', function( index ) {\n\n\t\t\tself.adjustViewHeight();\n\t\t\tif ( self.viewId === index ) self.scrollAwayElements();\n\n\t\t});\n\n\t\tapp.vent.on('view:scrolling:down:start', function( index ) {\n\n\t\t\tself.adjustViewHeight();\n\t\t\tif ( self.viewId === index ) self.scrollAwayElements();\n\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page scrolling was completed.\n\t\t */\n        app.vent.on('view:scrolling:up:completed', function( index ) {\n\n        \tif ( self.viewId === index ) self.scrollInElements();\n\n        });\n\n        app.vent.on('view:scrolling:down:completed', function( index ) {\n\n        \tif ( self.viewId === index ) self.scrollInElements();\n\n        });\n\t},\n\n\tadjustViewHeight: function() {\n\t\tvar self = this;\n\t\tvar\t$parent = self.$el.parent();\n\n\t\t/* 1. adjust the height of parent to be the actual height of window.\n\t\t * 2. this.$el.height == this.parent.$el.height(window.height) - nav.height.\n\t\t */ \n\t\t$parent.height( app.windowHeight() );\n\t\tself.$el.height( $parent.height() - $(\"#nav\").height() );\n\t},\n\n\t/**\n\t * animate sub elements of the current view when \n\t * it was scrolled into view or scrolled away.\n\t * \n\t * @bpy: Y position of pictures' background.\n\t * @top: top position of paragraph elements.\n\t * @dur_b: duration of backgroundPosition animation.\n\t * @ease: backgroundPosition animation easing.\n\t * @opy_p: opacity of paragraph elements.\n\t * @bottom: bottom position of the .guys.\n\t * @opy_g: opacity of the .guys.\n\t * @dur_p: duration of paragraph animation.\n\t * @dur_g: duration of .guys animation.\n\t * @bottom_btn: top position of the rightNowButton.\n\t * @opy_btn: opacity of the rightNowButton.\n\t * @dur_btn: duration of rightNowButton animation.\n\t */\n\tscrollElements: function(bpy, top, dur_b, ease, opy_p, bottom, opy_g, dur_p, dur_g, bottom_btn, opy_btn, dur_btn) {\n\t\tvar self = this,\n\t\t\t$children = this.$el.children();\n\n\t\tfor ( var i = 0; i < 3; i++ ) {\n\t\t\t$children.eq(i)\n\t\t\t.stop().animate({\n\t\t\t\tbackgroundPosition: \"(50% \" + bpy + \")\"\n\t\t\t}, {\n\t\t\t\tduration: dur_b,\n\t\t\t\teasing: ease\n\t\t\t});\t\n\t\t}\n\n\t\tself.$el.find('p').animate({\n\t\t\t\"top\": top,\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=\" + (opy_p * 100) + \")\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=\" + (opy_p * 100) + \")\",\n\t\t\t\"opacity\": opy_p\n\t\t}, dur_p);\n\n\t\tself.$el.find('.rightNowBtn').animate({\n\t\t\t\"bottom\": bottom_btn,\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=\" + (opy_btn * 100) + \")\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=\" + (opy_btn * 100) + \")\",\n\t\t\t\"opacity\": opy_btn\n\t\t}, dur_btn);\n\n\t\tself.$(\".guy\").animate({\n\t\t\t\"bottom\": bottom,\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=\" + (opy_g * 100) + \")\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=\" + (opy_g * 100) + \")\",\n\t\t\t\"opacity\": opy_g\n\t\t}, dur_g);\n\t},\n\n\t/**\n\t * move sub elemnts out of the view, \n\t * when the view starts scrolled away.\n\t */\n\tscrollAwayElements: function() {\n\t\treturn this.scrollElements(\"30%\", \"30%\", 300, 'easeOutQuart', 0, \"-3%\", 0, 450, 300, \"6%\", 0, 350);\n\t}, \n\n\t/**\n\t * show up sub elemnts when the view \n\t * was scrolled into view.\n\t */\n\tscrollInElements: function() {\n\t\treturn this.scrollElements(\"50%\", \"10%\", 200, 'easeOutQuart', 1, 0, 1, 100, 100, \"13%\", 1, 100);\n\t}\n\n});","\nvar Sections = require(\"../lib/paper/sections\"),\n\tpaperSection = require(\"../lib/paper/paperSection\");\n\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 3rd view: applying bouncing animation effect \n\t * \t\t\t that originated from the \"Jelly Navigation Menu\"\n\t *\t\t\t by Oleg Solomka, Smasingmagazine, \n\t *\t\t\t into the view using paperjs and tweenjs. \n\t *\t\t\t see lib/paper.\n\t */\n\tviewId: 2,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * scrolled up or down. \n\t * a 'public' property used by AppController.\n\t */\n\tscrollAwayElementsDuration: 0,\n\n\tpaper: null,\n\tsections: null,\n\tcanvas: null,\n\n\t/* each .tile inside the view was attached with \n\t * a paperjs rendered area that the same shape, \n\t * size, offset and color as the tile itself for \n\t * bouncing animations.\n\t */\n\tcolors: [\"#88e4af\", \"#3598db\", \"#11507a\", \"#2dcc70\", \"#1bbc9b\", \"#16a086\"],\n\tsectionsCount: 6,\n\n\toffset: [],\n\tsize: [],\n\n\t// positions of each modern guys:\n\tmodernPos: [0, 1, 2],\n\n\tmodernGuysAnimationTimeIntervals: [0, 0, 0],\n\n\t/**\n\t * tile is expanded or not.\n\t *\tnormal size state : false; \n\t *\texpaned state     : true; \n\t * [!]: tile5 cannot be expanded.\n\t */ \n\ttileExpandedStates: [false, false, false, false],\n\n\t/**\n\t * tile is being hovered or not, true of false.\n\t * [!]: tile5 cannot be hovered.\n\t */ \n\ttileHoveredStates: [false, false, false, false],\n\n\tresizeTimeOut: false,\n\n\tevents: {\n\t\t\"mouseleave .tile\": \"hideTileIntro\"\n\t},\n\n\tinitialize: function() {\n\t\tvar self = this,\n\t\t\tchildren = this.$el.children();\n\n\t\t_.bindAll(self, 'adjustViewHeight', 'makeSections',\n\t\t\t\t \"_showTileTitle\", \"showTileTitle\", \"_showTileIntro\", \"showTileIntro\",\n\t\t\t\t \"_hideTileIntro\", \"hideTileIntro\", \"resetTiles\",\n\t\t\t\t \"showTestimonies\", \"cycle\",\"_cycle\", \"modernGuysWalkRight\", \"modernGuysWalkLeft\",\n\t\t\t\t \"learnMore\"\n\t\t\t\t );\n\n\t\tself.adjustViewHeight();\n\t\tself.resetTiles();\n\n\t\tif ( ! isMobile ) {\n\t\t\tself.paper = new paper.PaperScope();\n\t\t\tself.canvas = document.getElementById('familyCanvas');\n\t\t\tself.paper.setup(self.canvas); \n\t\t\tpaper = self.paper;\t\t\n\n\t\t\tif ( self.sectionsCount !== children.length ) {\n\t\t\t\tself.sectionsCount = children.length;\n\t\t\t}\n\n\t\t\tself.makeSections();\n\n\t\t\tself.paper.view.onFrame = function(e) {\n\t\t\t\t/* update paper sections only if FamilyView\n\t\t\t\t * get scrolled in view for better performence.\n\t\t\t\t */\n\t\t\t\tif ( self.viewId === app.currentView ) {\n\t\t\t\t\treturn self.sections.update();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\n\t\t/* regenerate paper sections only after user stop resizing \n\t\t * the window for better performence.\n\t\t * the idea ported from Pim Jager, \n\t\t * anwser of \"javascript resize event firing multiple times \n\t\t * while dragging the resize handle\", Stackoverflow.com.\n\t\t * url: http://stackoverflow.com/questions/667426/javascript-resize-event-firing-multiple-times-while-dragging-the-resize-handle/668185#668185\n\t\t */\n\t\t$(window).resize(function() {\n\t\t\tself.adjustViewHeight();\n\t\t\tself.resetTiles();\n\n\t\t\tif ( ( !isMobile ) && self.viewId === app.currentView ) {\n\n\t\t\t\tvar $parent = self.$el.parent();\n\t\t\t\tpaper.view.setViewSize( $parent.width(), $parent.height() );\t\n\n\t\t\t\tchildren.stop().fadeOut(200);\n\t\t\t\t$(self.canvas).stop().fadeOut(200);\n\n\t\t\t\tif ( false !== self.resizeTimeOut ) clearTimeout( self.resizeTimeOut );\n\t\t\t\tself.resizeTimeOut = setTimeout(function() {\n\n\t\t\t\t\tchildren.stop().fadeIn(200);\n\t\t\t\t\tself.makeSections();\n\t\t\t\t\t$(self.canvas).stop().fadeIn(100);\n\n\t\t\t\t}, 400);\n\t\t\t}\n\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page start scrolling.\n\t\t */\n\t\tapp.vent.on('view:scrolling:up:start', function( index ) {\n\t\t\tvar $parent = self.$el.parent();\n\n\t\t\tself.adjustViewHeight();\n\t\t\tif ( ( self.viewId - 1 ) === index ) {\n\t\t\t\t/* update paper sections as the adjacent view \n\t\t\t\t * is about to scrolled away.\n\t\t\t\t */\n\t\t\t\tself.resetTiles();\n\t\t\t\tif ( ! isMobile ) {\n\t\t\t\t\tvar _t = setTimeout(function() {\n\t\t\t\t\t\tpaper.view.setViewSize( $parent.width(), $parent.height() );\t\n\t\t\t\t\t\tself.makeSections();\n\t\t\t\t\t\tclearTimeout(_t);\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\tapp.vent.on('view:scrolling:down:start', function( index ) {\n\t\t\tvar $parent = self.$el.parent();\n\n\t\t\tself.adjustViewHeight();\n\t\t\tif ( ( self.viewId + 1 ) === index ) {\n\t\t\t\t/* update paper sections as the adjacent view \n\t\t\t\t * is about to scrolled away.\n\t\t\t\t */\n\t\t\t\tself.resetTiles();\n\t\t\t\tif ( ! isMobile ) {\n\t\t\t\t\tvar _t = setTimeout(function() {\n\t\t\t\t\t\tpaper.view.setViewSize( $parent.width(), $parent.height() );\t\n\t\t\t\t\t\tself.makeSections();\n\t\t\t\t\t\tclearTimeout(_t);\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n        self.$el.hammer().on('touch', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            e.gesture.stopPropagation();\n            e.gesture.preventDefault();\n        });\n\n\t\tself.$(\".tile\").hammer().on('tap', self.showTileIntro);\n\t\tself.$(\".tile\").bind('mousestop', self.showTileTitle);\n\n\t\tif ( isMobile ) {\n\t\t\tself.$el.find(\".learnMore\").hammer().on('tap', self.learnMore);\n\t\t}\n\n\t\tself.$(\".modern\").on(\"tap\", self.showTestimonies);\n\t\tself.cycle();\n\n\t}, \n\n\tadjustViewHeight: function() {\n\t\tvar self = this;\n\t\tvar $parent = self.$el.parent();\n\t\tvar\t$grandpa = $parent.parent();\n\n\t\t/* 1. adjust the height of parent to be the actual height of window.\n\t\t * 2. this.$el.height == this.parent.$el.height(window.height) - nav.height.\n\t\t */ \n\t\t$grandpa.height( app.windowHeight() );\n\t\t$parent.height( $grandpa.height() - $(\"#nav\").height() );\n\t\tself.$el.height($parent.height());\n\t},\n\n\t/**\n\t * generate the paper.js rendered sections that\n\t * the same shape, size, offset and color as the\n\t * tile inside the FamilyView for bouncing animations.\n\t * see lib/paper for more details.\n\t */\n\tmakeSections: function() {\n\t\tvar self = this;\n\t\tvar\tchildren = self.$el.children();\n\n\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\tself.offset[i] = {\n\t\t\t\tx: $(children[i]).position().left,\n\t\t\t\ty: $(children[i]).position().top\n\t\t\t};\n\n\t\t\tself.size[i] = {\n\t\t\t\twidth: $(children[i]).width(),\n\t\t\t\theight: $(children[i]).height()\n\t\t\t}\n\t\t};\n\n\t\tdelete self.sections;\n\n\t\tself.sections = new Sections({\n\t\t\tview: self.paper.view,\n\t\t\t$content: self.$el,\n\t\t\t$sections: children,\n\t\t\tsectionsCount: children.length,\n\t\t\toffset: self.offset,\n\t\t\tsize: self.size,\n\t\t\tcolors: self.colors\n\t\t});\n\n\t},\n\n\t/**\n\t * the essential animations of 'showTileTitle'.\n\t *\n\t * @$el: the tile element being hovered.\n\t */\n\t_showTileTitle: function( $el ) {\n\t\tvar self = this;\n\t\tvar $figure = $el.find(\".tileFigure\");\n\t\tvar $title = $figure.find(\".tileTitle\");\n\t\tvar idx = self.$(\".tile\").index($el); \n\n\t\tif ( idx < 4 && ! self.tileHoveredStates[idx] ) {\n\t\t\tself.tileHoveredStates[idx] = true;\n\n\t\t\t$figure.animate({\n\t\t\t\tbackgroundSize: \"-=20%\",\n\t\t\t\tbackgroundPosition: \"(center 30%)\"\n\t\t\t}, 300, \"easeOutBack\");\n\n\t\t\t$title.animate({\n\t\t\t\tbottom: 0\n\t\t\t}, 250, \"easeOutQuart\");\n\t\t}\n\n\t},\n\n\t/**\n\t *  show off the title of the hovered tile.\n\t */\n\tshowTileTitle: function( e ) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t\tvar self = this;\n\t\tvar $elem = $(e.currentTarget);\n\n\t\tself._showTileTitle($elem);\n\t},\n\n\n\t/**\n\t * the essential animations of 'showTileIntro'.\n\t *\n\t * @$el: the tile element being clicked.\n\t * @direct: the tile could be expanded from 'Left2Right' or 'Left2Right'\n\t *\t\t\tdepends on its current positoin.\n\t *\t\t\tonly 2 'directions' exist for this view.\n\t * @bgColor: the background-color of the '.tileContent'.\n\t */\n\t_showTileIntro: function( $el, direct, bgColor ) {\n\t\tvar self = this;\n\t\tvar $figure = $el.find(\".tileFigure\");\n\t\tvar $content = $el.find(\".tileContent\"); \n\t\tvar idx = self.$(\".tile\").index($el);\n\t\tvar figureAnimateProperties = {\n\t\t\twidth: $el.width() * 0.96,\n\t\t\theight: $el.height() * 0.96\n\t\t};\n\n\t\tif ( ! self.tileExpandedStates[idx] ) {\n\n\t\t\tif ( \"Left2Right\" === direct ) {\n\n\t\t\t\tfigureAnimateProperties.left = \"+=1%\";\n\t\t\t\tfigureAnimateProperties.top = \"+=2%\";\n\n\t\t\t} else if ( \"Right2Left\" === direct ) {\n\n\t\t\t\tfigureAnimateProperties.right = \"+=1%\";\n\t\t\t\tfigureAnimateProperties.top = \"+=2%\";\n\t\t\t}\n\n\t\t\t$figure.animate(figureAnimateProperties, 100, \"easeOutQuart\", function() {\n\t\t\t\t$figure.css({\n\t\t\t\t\t\"backgroundColor\": bgColor\n\t\t\t\t});\n\t\t\t\t$el.css({\n\t\t\t\t\t\"backgroundColor\": \"black\",\n\t\t\t\t\t\"z-index\": 999\n\t\t\t\t});\n\t\t\t\t$el.animate({\n\t\t\t\t\twidth: $el.width() * 2,\n\t\t\t\t\tleft: 0\n\t\t\t\t}, 100, \"easeOutQuart\", function() {\n\t\t\t\t\t$content.show();\n\t\t\t\t\tself.tileExpandedStates[idx] = true;\n\t\t\t\t\tself.$(\".tile\").hammer().on('tap', self.showTileIntro);\n\t\t\t\t});\n\t\t\t});\n\n\t\t} \n\t},\n\n\t/**\n\t * show off the introduction of a tile.\n\t */\n\tshowTileIntro: function( e ) {\n\t\tvar self = this;\n\t\tvar $elem = $(e.currentTarget);\n\t\tvar idx = self.$(\".tile\").index($elem);\n\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t\te.gesture.stopPropagation();\n        e.gesture.preventDefault();\n\n\t\tif ( idx < 4 && ! self.tileExpandedStates[idx] ) {\n\t\t\tself.$(\".tile\").hammer().off(\"tap\");\n\n\t\t\tif ( \"mouse\" !== e.gesture.pointerType ) {\n\t\t\t\t// reset positions, width, height, etc. of all tiles.\n\t\t\t\tself.resetTiles();\n\t\t\t} else {\n\t\t\t\tself.tileExpandedStates[idx] = false;\n\t\t\t} \n\n\t\t\t// show off the title of the touched tile.\n\t\t\tself._showTileTitle( $elem ); \n\n\t\t\tif ( 0 === idx ) {\n\t\t\t// show off the intro box of 'super mario' tile.\n\t\t\t\tself._showTileIntro($elem, \"Left2Right\", self.colors[idx]);\n\t\t\t} else if ( 1 === idx ) {\n\t\t\t\t// show off the intro box of '27g cloud storage' tile.\n\t\t\t\tself._showTileIntro($elem, \"Right2Left\", self.colors[idx]);\n\t\t\t} else if ( 2 === idx ) {\n\t\t\t\t// show off the intro box of 'octopus' tile.\n\t\t\t\tself._showTileIntro($elem, \"Left2Right\", self.colors[idx]);\n\t\t\t} else if ( 3 === idx ) {\n\t\t\t\t// show off the intro box of 'noooo' tile.\n\t\t\t\tself._showTileIntro($elem, \"Right2Left\", self.colors[idx]);\n\t\t\t}\n\t\t}\n\n\t},\n\n\t/**\n\t * the essential animations of 'hideTileIntro'.\n\t * \n\t * @$el: the tile element being clicked.\n\t * @direct: if expand the tile from 'Left2Right',\n\t *\t\t\twe narrow it down from 'Right2Left' here. \n\t *\t\t\tonly 2 'directions' exist for this view.\n\t * @posLeft: the original left position of the tile.\n\t */\n\t_hideTileIntro: function( $el, direct, posLeft ) {\n\t\tvar self = this;\n\t\tvar idx = self.$(\".tile\").index($el);\n\t\tvar $parent = self.$el.parent();\n\t\tvar $figure = $el.find(\".tileFigure\");\n\t\tvar $title = $figure.find(\".tileTitle\");\n\t\tvar $content = $el.find(\".tileContent\");\n\t\tvar elAnimateProperties = {\n\t\t\twidth: $el.width() / 2,\n\t\t\tleft: posLeft\n\t\t};\n\t\tvar figureCSSProperties = {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\ttop: 0\n\t\t};\n\n\t\tif ( isMobile ) {\n\t\t\tfigureCSSProperties.backgroundColor = self.colors[idx];\n\t\t} else {\n\t\t\tfigureCSSProperties.backgroundColor = \"transparent\";\n\t\t}\n\n\t\tif ( self.tileExpandedStates[idx] ) {\n\t\t\tself.tileExpandedStates[idx] = false;\n\n\t\t\t$content.hide();\n\n\t\t\tif ( \"Right2Left\" === direct ) {\n\n\t\t\t\tfigureCSSProperties.left = 0;\n\n\t\t\t} else if ( \"Left2Right\" === direct ) {\n\n\t\t\t\tfigureCSSProperties.right = 0;\n\t\t\t}\n\n\t\t\t$el.css({\n\t\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\t\"z-index\": 0\n\t\t\t});\n\n\t\t\t$el.animate(elAnimateProperties, 100, \"easeOutQuart\", function() {\n\t\t\t\t$el.css({\n\t\t\t\t\twidth: \"33.33333%\"\n\t\t\t\t});\n\t\t\t\t$figure.css(figureCSSProperties);\n\t\t\t});\n\t\t}\n\n\t\tif ( self.tileHoveredStates[idx] ) {\n\t\t\tself.tileHoveredStates[idx] = false;\n\n\t\t\t$figure.animate({\n\t\t\t\tbackgroundSize: \"+=20%\",\n\t\t\t\tbackgroundPosition: \"(center center)\"\n\t\t\t}, 70);\n\n\t\t\t$title.animate({\n\t\t\t\tbottom: \"-30%\"\n\t\t\t}, 100);\n\t\t}\n\t\t\n\t},\n\n\t/**\n\t * hide the introduction of a tile.\n\t */\n\thideTileIntro: function( e ) {\n\t\tvar self = this;\n\t\tvar $elem = $(e.currentTarget);\n\t\tvar idx = self.$(\".tile\").index($elem);\n\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tif ( 0 === idx ) {\n\t\t\t// hide the intro box of 'super mario' tile.\n\t\t\tself._hideTileIntro($elem, 'Right2Left', 0);\n\t\t} else if ( 1 === idx ) {\n\t\t\t// hide the intro box of '27g cloud storage' tile.\n\t\t\tself._hideTileIntro($elem, \"Left2Right\", \"33.33333%\");\n\t\t} else if ( 2 === idx ) {\n\t\t\t// hide the intro box of 'octopus' tile.\n\t\t\tself._hideTileIntro($elem, \"Right2Left\", 0);\n\t\t} else if ( 3 === idx ) {\n\t\t\t// hide the intro box of 'noooo' tile.\n\t\t\tself._hideTileIntro($elem, \"Left2Right\", \"33.33333%\");\n\t\t}\n\t},\n\n\t/**\n\t * reset the properties of expanded tiles.\n\t */\n\tresetTiles: function() {\n\t\tvar self = this;\n\n\t\tif ( isMobile ) {\n\t\t\tself.$(\".tileFigure\").each(function(i) {\n\t\t\t\t$(this).css('backgroundColor', self.colors[i]);\n\t\t\t});\n\t\t\tself.$(\".tile5\").css(\"backgroundColor\", \"#1bbc9b\");\n\t\t\tself.$(\".tile6\").css(\"backgroundColor\", \"#16a086\");\n\t\t} else {\n\t\t\tself.$(\".tileFigure\").css('backgroundColor', 'transparent');\n\t\t}\n\n\t\tself._hideTileIntro(self.$(\".tile1\"), 'Right2Left', 0);\n\t\tself._hideTileIntro(self.$(\".tile2\"), \"Left2Right\", \"33.33333%\");\n\t\tself._hideTileIntro(self.$(\".tile3\"), \"Right2Left\", 0);\n\t\tself._hideTileIntro(self.$(\".tile4\"), \"Left2Right\", \"33.33333%\");\n\n\t},\n\n\t/**\n\t * if one of the people at the lower right corner was clicked/tapped,\n\t * shift him/her to the middle, display his/her testinonies and move\n\t * the other two to their correspond positions.\n\t */\n\tshowTestimonies: function( e ) {\n\t\tvar self = this;\n\t\tvar modernGuy = e.currentTarget\n\t\tvar\tidx = self.$(\".modern\").index(e.currentTarget);\n\t\tvar $modern1 = self.$(\".modern1\"),\n\t\t\t$modern2 = self.$(\".modern2\"),\n\t\t\t$modern3 = self.$(\".modern3\");\n\n\t\t// stop the circular shift.\n\t\t_.each(self.modernGuysAnimationTimeIntervals, function(intervel) {\n\t\t\tclearInterval(intervel);\n\t\t});\n\n\t\tif ( 0 === self.modernPos[idx] ) {\n\t\t\t// the guy is sitting at left, should walk to the right.\n\t\t\tself.modernGuysWalkRight($modern1, 400, 570);\n\t\t\tself.modernGuysWalkRight($modern2, 400, 500);\n\t\t\tself.modernGuysWalkRight($modern3, 400, 430);\n\n\t\t} else if ( 2 === self.modernPos[idx] ) {\n\t\t\t// the guy is sitting at right, should walk to the left.\n\t\t\tself.modernGuysWalkLeft($modern1, 400, 570);\n\t\t\tself.modernGuysWalkLeft($modern2, 400, 500);\n\t\t\tself.modernGuysWalkLeft($modern3, 400, 430);\n\t\t}\n\n\t\t// restore the circular shift.\n\t\tself.cycle();\n\n\t},\n\n\t_cycle: function( $el, speed ) {\n\t\tvar self = this;\n\t\tvar idx = self.$(\".modern\").index($el);\n\n\t\tself.modernGuysAnimationTimeIntervals[idx] = setInterval(function() {\n\t\t\tself.modernGuysWalkLeft($el, 400, speed);\n\t\t}, 5000);\n\t}, \n\n\t/**\n\t * three people at the lower right corner show their \n\t * product using experience in a circular manner.\n\t */\n\tcycle: function() {\n\t\tvar self = this;\n\t\tvar $modern1 = self.$(\".modern1\"),\n\t\t\t$modern2 = self.$(\".modern2\"),\n\t\t\t$modern3 = self.$(\".modern3\");\n\n\t\tself._cycle($modern1, 570);\n\t\tself._cycle($modern2, 500);\n\t\tself._cycle($modern3, 430);\n\t},\n\n\t/**\n\t * shift the guy from right to left.  \n\t * show off his/her testimonies if \n\t * shifted to the middle.\n\t *\n\t * @$el: the modern guy.\n\t * @speed_t: animation speed of testimonies.\n\t * @speed_m: animation speed of modern guys.\n\t */\n\tmodernGuysWalkLeft: function( $el, speed_t, speed_m ) {\n\t\tvar self = this;\n\t\tvar idx = self.$(\".modern\").index($el);\n\t\tvar $testimonies = self.$(\".testimonies\").eq(idx);\n\n\t\t$el.animate({\n\t\t\tright: \"+=35%\"\n\t\t}, speed_m, \"easeInOutCirc\", function() {\n\n\t\t\tself.modernPos[idx] -= 1;\t\n\n\t\t\tif ( 1 === self.modernPos[idx] ) {\n\t\t\t\t// show off the testimonies if the modern guy is at the middle.\n\t\t\t\t$testimonies.animate({\n\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n                    \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n                    \"opacity\": 1,\n                    \"left\": \"0\"\t\n\t\t\t\t}, speed_t, \"easeInOutCirc\");\n\n\t\t\t} else if ( 0 === self.modernPos[idx] ) {\n\n\t\t\t\t$testimonies.animate({\n\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"opacity\": 0,\n                    \"left\": \"-10%\"\t\n\t\t\t\t}, speed_t, \"easeInOutCirc\");\n\n\t\t\t}\n\n\t\t\tif ( -1 === self.modernPos[idx] ) {\n\t\t\t\tself.modernPos[idx] = self.modernPos.length - 1;\n\t\t\t\t$el.css(\"right\", \"-30%\");\n\t\t\t\t$testimonies.animate({\n\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"opacity\": 0,\n                    \"left\": \"10%\"\t\n                });\n\t\t\t\t$el.animate({\n\t\t\t\t\tright: \"+=35%\"\n\t\t\t\t}, 180, \"easeInOutCirc\");\n\t\t\t}\n\t\t});\n\t}, \t\n\n\t/**\n\t * shift the guy from left to right.  \n\t * show off his/her testimonies if \n\t * shifted to the middle.\n\t *\n\t * @$el: the modern guy.\n\t * @speed_t: animation speed of testimonies.\n\t * @speed_m: animation speed of modern guys.\n\t */\n\tmodernGuysWalkRight: function( $el, speed_t, speed_m ) {\n\t\tvar self = this;\n\t\tvar idx = self.$(\".modern\").index($el);\n\t\tvar $testimonies = self.$(\".testimonies\").eq(idx);\n\n\t\t$el.animate({\n\t\t\tright: \"-=35%\"\n\t\t}, speed_m, \"easeInOutCirc\", function() {\n\t\t\t\n\t\t\tself.modernPos[idx] += 1;\t\n\n\t\t\tif ( 1 === self.modernPos[idx] ) {\n\t\t\t\t// show off the testimonies if the modern guy is at the middle.\n\t\t\t\t$testimonies.animate({\n\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n                    \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n                    \"opacity\": 1,\n                    \"left\": \"0\"\t\n\t\t\t\t}, speed_t, \"easeInOutCirc\");\n\n\t\t\t} else if ( self.modernPos.length - 1 === self.modernPos[idx] ) {\n\n\t\t\t\t$testimonies.animate({\n\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"opacity\": 0,\n                    \"left\": \"10%\"\t\n\t\t\t\t}, speed_t, \"easeInOutCirc\");\n\n\t\t\t}\n\n\t\t\tif ( 3 === self.modernPos[idx] ) {\n\t\t\t\tself.modernPos[idx] = 0;\n\t\t\t\t$el.css(\"right\", \"110%\");\n\t\t\t\t$testimonies.css({\n\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                    \"opacity\": 0,\n                    \"left\": \"-10%\"\t\n\t\t\t\t});\n\t\t\t\t$el.animate({\n\t\t\t\t\tright: \"-=35%\"\n\t\t\t\t}, 180, \"easeInOutCirc\");\n\t\t\t}\n\t\t});\n\t},\n\n\tlearnMore: function( e ) {\n\t\twindow.open(\"http://office.microsoft.com/zh-cn/products/FX102853961.aspx?WT.mc_id=Soc_WeiBo_Q1Jul_ConsTry_NA#SeeTopFeatures\", \"_blank\");\n\t}\n\n});","\n/**\n * Navigation View.\n */\nmodule.exports = Marionette.ItemView.extend({\n\n\tevents: {\n\t\t\"tap .navItem\": \"scrollTo\"\n\t},\n\n\tinitialize: function() {\n\t\tvar self = this;\n\n\t\tself.$(\".navHomeCurtain\").css({\n\t\t\ttop: 0\n\t\t});\n\n\t\t_.bindAll(self, \"hideNavBar\", \"showNavBar\", \"putNavBarTop\", \"putNavBarBottom\", \"navCurtainAnimation\", \"scrollTo\");\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page start scrolling.\n\t\t */\n\t\tapp.vent.on(\"view:scrolling:up:start\", function( index ) {\n\n\t\t\tif ( 0 === index ) {\n\t\t\t\t// SliderView started to scroll up.\n\n\t\t\t\tself.hideNavBar(self.putNavBarTop);\n\n\t\t\t}  else if ( 1 === index ) {\n\t\t\t\t// ActivitiesView started to scroll up.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t}  else if ( 2 === index ) {\n\t\t\t\t// FamilyView started to scroll up.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t}  else if ( 3 === index ) {\n\t\t\t\t// ToolsView started to scroll up.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t} else if ( 4 === index ) {\n\t\t\t\t// ShareView started to scroll up.\n\t\t\t\t// Impossible.\n\t\t\t}  \n\n\t\t});\n\n\t\tapp.vent.on('view:scrolling:down:start', function( index ) {\n\n\t\t\tself.navCurtainAnimation(index, index - 1);\n\t\t\t\n\t\t\tif ( 0 === index ) {\n\t\t\t\t// SliderView start to scroll down. \n\t\t\t\t// Impossible.\n\n\t\t\t}  else if ( 1 === index ) {\n\t\t\t\t// ActivitiesView started to scroll down.\n\n\t\t\t\tself.hideNavBar(self.putNavBarBottom);\n\n\t\t\t}  else if ( 2 === index ) {\n\t\t\t\t// FamilyView started to scroll down.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t}  else if ( 3 === index ) {\n\t\t\t\t// ToolsView started to scroll down.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\t\n\t\t\t\t\n\t\t\t} else if ( 4 === index ) {\n\t\t\t\t// ToolsView started to scroll down.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\t\n\t\t\t}\n\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page scrolling was completed.\n\t\t */\n\t\tapp.vent.on(\"view:scrolling:up:completed\", function( index ) {\n\t\t\t\n\t\t\tif ( 0 === index ) {\n\t\t\t\t// SliderView being scrolled in from bottom.\n\t\t\t\t// Impossible.\n\n\t\t\t}  else if ( 1 === index ) {\n\t\t\t\t// ActivitiesView being scrolled in from bottom.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t}  else if ( 2 === index ) {\n\t\t\t\t// FamilyView being scrolled in from bottom.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t}  else if ( 3 === index ) {\n\t\t\t\t// ToolsView being scrolled in from bottom.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\t\n\t\t\t\t\n\t\t\t}  else if ( 4 === index ) {\n\t\t\t\t// ShareView being scrolled in from bottom.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\t\n\n\t\t\t}\n\n\t\t});\n\n\t\tapp.vent.on(\"view:scrolling:down:completed\", function( index ) {\n\t\t\t\n\t\t\tif ( 0 === index ) {\n\t\t\t\t// SliderView being scrolled in from top.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarBottom);\n\n\t\t\t}  else if ( 1 === index ) {\n\t\t\t\t// ActivitiesView being scrolled in from top.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t}  else if ( 2 === index ) {\n\t\t\t\t// FamilyView being scrolled in from top.\n\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\n\t\t\t}  else if ( 3 === index ) {\n\t\t\t\t// ToolsView being scrolled in from top.\n\t\t\t\t// Impossible.\n\t\t\t\tself.showNavBar(50, self.putNavBarTop);\n\t\t\t}  else if ( 4 === index ) {\n\t\t\t\t// ShareView being scrolled in from top.\n\t\t\t\t// Impossible.\n\t\t\t}\n\n\t\t});\n\n\t\t// change the appearance of nav bar based on screen width.\n\t\t$(window).resize(function() {\n\t\t\tif ( Modernizr.mq('all and (min-width: 1100px)') ) {\n\n\t\t\t\tvar $thisCurtainArrow = self.$(\".navArrow\").eq(app.currentView);\n\t\t\t\t$thisCurtainArrow.show();\n\n\t\t\t} \n\t\t});\n\n\t},\n\n\thideNavBar: function( callback ) {\n\t\tvar self = this;\n\n\t\tself.$el.animate({\n\t\t\theight: 0,\n\t\t}, 80, 'easeInQuart', function() {\n\t\t\tif ( callback && \"function\" === typeof callback) callback();\n\t\t});\n\t},\n\n\tshowNavBar: function( h, callback ) {\n\t\tvar self = this;\n\n\t\tself.$el.animate({\n\t\t\theight: h,\n\t\t}, 80, 'easeInQuart', function() {\n\t\t\tif ( callback && \"function\" === typeof callback) callback();\n\t\t});\n\t},\n\n\tputNavBarTop: function() {\n\t\tvar self = this;\n\n\t\tif ( 0 !== parseFloat(self.$el.css('top')) ) {\n\t\t\tself.$el.css({\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 'auto'\n\t\t\t});\n\t\t}\n\t},\n\n\tputNavBarBottom: function() {\n\t\tvar self = this;\n\n\t\tif ( 0 !== parseFloat(self.$el.css('bottom')) ) {\n\t\t\tself.$el.css({\n\t\t\t\ttop: 'auto',\n\t\t\t\tbottom: 0\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * hide the '.navCurtain' correspond to the view that \n\t * scrolled away and show off the '.navCurtain' correspond\n\t * to the view that is going to be scrolled in.\n\t *\n\t * @viewId: the ID of the view that scrolled away.\n\t * @nextViewId: the ID of the view that is about to \n\t *\t\t\t\tscrolled in.\n\t */\n\tnavCurtainAnimation: function( viewId, nextViewId ) {\n\t\tvar self = this,\n\t\t\t$thisCurtain = self.$(\".navCurtain\").eq(viewId),\n\t\t\t$thisCurtainArrow = self.$(\".navArrow\").eq(viewId),\n\t\t\t$nextCurtain = self.$(\".navCurtain\").eq(nextViewId),\n\t\t\t$nextCurtainArrow = self.$(\".navArrow\").eq(nextViewId);\n\n\t\tif ( Modernizr.mq('all and (min-width: 1100px)') ) {\n\n\t\t\tif ( 0 === parseFloat($thisCurtain.css(\"top\")) \n\t\t\t\t|| ( 0 !== parseFloat($thisCurtain.css(\"top\")) && 4 === viewId ) ) {\n\n\t\t\t\t$thisCurtainArrow.animate({\n\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t                \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t                \"opacity\": 0,\n\t                \"top\": 12 \n\t\t\t\t}, 140, 'easeInQuart');\n\n\t\t\t\t$thisCurtain.animate({\n\t\t\t\t\ttop: \"100%\"\n\t\t\t\t}, 150, 'easeInQuart', function() {\n\n\t\t\t\t\tif ( 4 !== nextViewId ) {\n\t\t\t\t\t\t// ShareView doesn't have an anchor on nav bar.\n\t\t\t\t\t\t$nextCurtainArrow.animate({\n\t\t\t\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)\",\n\t\t\t                \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)\",\n\t\t\t                \"opacity\": 1,\n\t\t\t                \"top\": 17 \n\t\t\t\t\t\t}, 140, 'easeInQuart');\n\n\t\t\t\t\t\t$nextCurtain.animate({\n\t\t\t\t\t\t\ttop: 0\n\t\t\t\t\t\t}, 150, 'easeOutQuart');\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( Modernizr.mq('all and (max-width: 1099px)') ) {\n\n\t\t\tif ( 0 === parseFloat($thisCurtain.css(\"top\"))\n\t\t\t|| ( 0 !== parseFloat($thisCurtain.css(\"top\")) && 4 === viewId ) ) {\n\n\t\t\t\t$thisCurtain.animate({\n\t\t\t\t\ttop: \"100%\"\n\t\t\t\t}, 150, 'easeInQuart', function() {\n\n\t\t\t\t\tif ( 4 !== nextViewId ) {\n\t\t\t\t\t\t// ShareView doesn't have an anchor on nav bar.\n\t\t\t\t\t\t$nextCurtain.animate({\n\t\t\t\t\t\t\ttop: 0\n\t\t\t\t\t\t}, 150, 'easeOutQuart');\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t},\n\n\t/**\n\t * scroll to a specific view depends on \n\t * which '.navItem' being clicked/tapped.\n\t */\n\tscrollTo: function( e ) {\n\t\tvar self = this;\n\t\tvar\tidx = self.$(\".navItem\").index( e.currentTarget );\n\n\t\tif ( 4 > idx ) {\n\t\t\tBackbone.history.navigate(\"!/feature/\" + idx, {\n\t            trigger: true\n\t        });\n\t\t}\n\t}\n\n});","\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 1st SceneView: first sub-view of the SliderView.\n\t */\n\tsliderIndex: 0,\n\t// each SceneView has its scenes the number of sceneNum.\n\tsceneNum: 1,\n\t// the index of the scene that being displayed currently.\n\tsceneCurIndex: 0,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * slided left or right. \n\t * a 'public' property used by SliderView.\n\t */\n\tslideAwayElementsDuration: 0,\n\n\tinitialize: function() {\n\t\tvar self = this;\n\n\t\t_.bindAll(self, \"slideAwaySceneElements\", \"slideAwayElements\", \"slideAwaySceneElements\", \"slideInElements\");\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding get start.\n\t\t */\n\t\tapp.vent.on('view:slide:left:start', function(index) {\n\t\t\tif ( self.sliderIndex === index ) {\n\t\t\t\tself.slideAwayElements();\n\t\t\t}\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding was completed.\n\t\t */\n\t\tapp.vent.on(\"view:slide:left:end\", function(index) {\n\t\t\tif ( self.sliderIndex === index) {\n\t\t\t\tself.slideInElements();\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * move sub elemnts of the first scene\n\t * out of the view, when the view starts \n\t * sliding away.\n\t */\n\tslideAwaySceneElements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\"h1\")\n\t\t.animate({\n\t\t\tleft: \"8%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 700, 'easeInQuart', function() {\n\t\t\t$(this).css({\n\t\t\t\tleft: \"21.53%\"\n\t\t\t});\n\t\t});\n\n\t\tself.$(\"#cloud1\")\n\t\t.animate({\n\t\t\tleft: \"18%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 590, 'easeInQuart', function() {\n\t\t\t$(this).css({\n\t\t\t\tleft: \"35%\"\n\t\t\t});\n\t\t});\n\n\t\tself.$(\"#cloud2\")\n\t\t.animate({\n\t\t\tleft: \"28%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0 \n\t\t}, 650, 'easeInQuart', function() {\n\t\t\t$(this).css({\n\t\t\t\tleft: \"43.1%\"\n\t\t\t});\n\t\t});\n\n\t\tself.$(\"#mountain\")\n\t\t.animate({\n\t\t\tright: \"50%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 690, 'easeInQuart', function() {\n\t\t\t$(this).css({\n\t\t\t\tright: \"24%\"\n\t\t\t});\n\t\t});\n\t\t\n\t},\n\n\t/**\n\t * show up sub elemnts of the first scene \n\t * when the view was slided into view.\n\t */\n\tslideInElements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\"h1\")\n\t\t.css({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t});\n\n\t\tself.$(\"#cloud1\")\n\t\t.css({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t});\n\n\t\tself.$(\"#cloud2\")\n\t\t.css({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1 \n\t\t});\n\n\t\tself.$(\"#mountain\")\n\t\t.css({\n\t\t\t\"opacity\": 1\n\t\t});\n\t},\n\n\t/**\n\t * move sub elemnts of the scene that\n\t * currently displayed out of the view, \n\t * when the view starts sliding away.\n\t */\n\tslideAwayElements: function() {\n\t\tvar self = this;\n\n\t\tself.slideAwaySceneElements();\n\t}\n\n});","\n// animated objects created with createjs. \nvar Fire = require(\"../../lib/animations/flame\"),\n\tDinosaur = require(\"../../lib/animations/dinosaur\");\n\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 2nd SceneView: second sub-view of the SliderView.\n\t */\n\tsliderIndex: 1,\n\t// each SceneView has its scenes the number of sceneNum.\n\tsceneNum: 2,\n\t// the index of the scene that being displayed currently.\n\tsceneCurIndex: 0,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * slided left or right. \n\t * a 'public' property used by SliderView.\n\t */\n\tslideAwayElementsDuration: 0,\n\n\t// things for createjs animations.\n\tfire: 0,\n\tdinosaur: 0,\n\tfireStage: 0,\n\tdinosaurStage: 0,\n\tsurrenderRandom: Math.floor((Math.random() * 100) + 1),\n\tsurrenderPedometer: 0,\n\tidleRandom: Math.floor((Math.random() * 3) + 1),\n\tidlePedometer: 0,\n\n\tevents: {\n\t\t\"tap .howTo\": \"anwser\",\n\t\t\"tap .solution\": \"jumpTo\"\n\t},\n\n\tinitialize: function() {\n\t\tvar self = this;\n\n\t\t/* setup the little dinosaur that spitting \n\t\t * fire on the first scene.\n\t\t * see lib/animations/flame for the \"startFire\"\n\t\t * animation.\n\t\t */\n\t\tself.fire = new Fire();\n\t\tself.fireStage = new createjs.Stage($(\"#flame\")[0]);\n\t\tself.fire.x = 0;\n\t\tself.fire.y = 0;\n\t\tself.fire.gotoAndPlay(\"startFire\");\n\t\tself.fireStage.addChild(self.fire);\n\n\t\t/* setup the dinosaur that shaking a white\n\t\t * flag on the second scene.\n\t\t * see lib/animations/dinosaur for the \"surrender\"\n\t\t * animation.\n\t\t */\n\t\tself.dinosaur = new Dinosaur();\n\t\tself.dinosaurStage = new createjs.Stage($(\".dinosaurSurrender\")[0]);\n\t\tself.dinosaur.x = 0;\n\t\tself.dinosaur.y = 0;\n\t\tself.dinosaur.gotoAndPlay(\"surrender\");\n\t\tself.dinosaurStage.addChild(self.dinosaur);\n\n\t\tcreatejs.Ticker.useRAF = true;\n\t    createjs.Ticker.setFPS(15);\n\t    createjs.Ticker.addListener(function () {\n\n\t    \t/* the dinosaur would shake his white flag in a random\n\t    \t * period of time.\n\t    \t */\n\t    \tif ( self.surrenderPedometer !== self.surrenderRandom ) {\n\t    \t\tself.dinosaur.gotoAndPlay(\"surrender\");\n\t    \t\tself.surrenderPedometer++;\n\t    \t} else {\n\t    \t\tif ( self.idlePedometer === self.surrenderRandom ) {\n\t    \t\t\tself.surrenderPedometer = 0;\n\t    \t\t\tself.surrenderRandom = Math.floor((Math.random() * 100) + 1);\n\t    \t\t\tself.idlePedometer = 0;\n\t    \t\t\tself.idleRandom = Math.floor((Math.random() * 3) + 1);\n\t    \t\t} else {\n\t    \t\t\tself.dinosaur.gotoAndPlay(\"idle\");\n\t    \t\t\tself.idlePedometer++;\n\t    \t\t}\n\t    \t}\n\n\t    \tself.fireStage.update();\n\t    \tself.dinosaurStage.update();\n\t    });     \n\n\t\t_.bindAll(self, \"slideAwayElements\", \"slideAwayScene1Elements\", \"slideAwayScene2Elements\", \"slideInElements\", \"anwser\");\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding get start.\n\t\t */\n\t\tapp.vent.on('view:slide:left:start', function( index ) {\n\n\t\t\tif ( self.sliderIndex === index ) self.slideAwayElements();\n\n\t\t});\n\n\t\tapp.vent.on('view:slide:right:start', function( index ) {\n\n\t\t\tif ( self.sliderIndex === index ) self.slideAwayElements();\n\t\t\t\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding was completed.\n\t\t */\n\t\tapp.vent.on(\"view:slide:left:end\", function( index ) {\n\n\t\t\tif ( self.sliderIndex === index) self.slideInElements();\n\n\t\t});\n\n\t\tapp.vent.on(\"view:slide:right:end\", function(index) {\n\n\t\t\tif ( self.sliderIndex === index) self.slideInElements();\n\n\t\t});\n\n\t},\n\n\t/**\n\t * move sub elemnts of the first scene\n\t * out of the view, when the view starts \n\t * sliding away.\n\t */\n\tslideAwayScene1Elements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\".howTo\")\n\t\t.animate({\n\t\t\ttop: \"15%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 660, 'easeInQuart');\n\t},\n\n\t/**\n\t * move sub elemnts of the second scene\n\t * out of the view, when the view starts \n\t * sliding away.\n\t */\n\tslideAwayScene2Elements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\".solution\").animate({\n\t\t\tleft: \"-50%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart', function() {\n\t\t\tself.$(\".howTo\").animate({\n\t\t\t\tleft: \"11.13%\",\n\t\t\t\ttop: \"15%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\t\"opacity\": 0\n\t\t\t}, 500, 'easeOutQuart');\n\t\t});\n\n\t\tself.$(\".primitive\").animate({\n\t\t\tright: \"25%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 200, 'easeInQuart');\n\n\t\tself.$(\".modern\").animate({\n\t\t\tright: \"10%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0 \n\t\t}, 500, 'easeOutQuart');\n\n\t\tself.$(\"#flame\").animate({\n\t\t\tright: \"27.20%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t});\n\n\t\tself.$(\".dinosaurSurrender\").animate({\n\t\t\tright: \"30%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 500, 'easeOutQuart');\n\t},\n\n\t/**\n\t * show up sub elemnts of the first scene \n\t * when the view was slided into view.\n\t */\n\tslideInElements: function() {\n\t\tvar self = this;\n\n\t\tvar _t = setTimeout(function() {\n\t\t\tself.$(\".howTo\")\n\t\t\t.animate({\n\t\t\t\ttop: \"20%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 200);\n\n\t\t\tclearTimeout(_t);\n\t\t}, 400)\n\n\t},\n\n\t/**\n\t * move sub elemnts of the scene that\n\t * currently displayed out of the view, \n\t * when the view starts sliding away.\n\t */\n\tslideAwayElements: function() {\n\t\tvar self = this;\n\n\t\tif ( 0 === self.sceneCurIndex ) {\n\t\t\tself.slideAwayScene1Elements();\n\t\t} else if ( 1 === self.sceneCurIndex ) {\n\t\t\tself.slideAwayScene2Elements();\n\t\t}\n\t},\n\n\tanwser: function() {\n\t\tvar self = this;\n\t\tself.sceneCurIndex = (self.sceneCurIndex < self.sceneNum - 1) ?\n\t\t\t\t\t\t\t\t(self.sceneCurIndex + 1) : (self.sceneNum - 1);\n\n\t\tself.$el.\n\t\tstop().animate({\n\t\t\tbackgroundPosition: \"(58% 40%)\"\n\t\t}, {\n\t\t\tduration: 680,\n\t\t\teasing: 'easeOutQuart'\n\t\t});\n\n\t\tself.$(\".howTo\").animate({\n\t\t\tleft: \"-50%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart', function() {\n\t\t\tself.$(\".solution\").animate({\n\t\t\t\tleft: \"11.13%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 400, 'easeOutQuart');\n\t\t});\n\n\t\tself.$(\".primitive\").animate({\n\t\t\tright: \"35%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 200, 'easeInQuart');\n\n\t\tself.$(\".modern\").animate({\n\t\t\tright: \"22%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 500, 'easeOutQuart');\n\n\t\tself.$(\"#flame\").animate({\n\t\t\tright: \"13%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t});\n\n\t\tself.$(\".dinosaurSurrender\").animate({\n\t\t\tright: \"32.20%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 500, 'easeOutQuart');\n\t},\n\n\tjumpTo: function() {\n\t\t// jumping to the 'FamilyView'.\n\t\tBackbone.history.navigate(\"!/feature/\" + 2, {\n\t        trigger: true\n\t    });\n\t}\n\n});","\n// animated objects created with createjs. \nvar Triceratops = require(\"../../lib/animations/triceratops\"),\n\tPhone = require(\"../../lib/animations/phone\");\n\tCloud = require(\"../../lib/animations/cloud\");\n\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 3rd SceneView: third sub-view of the SliderView.\n\t */\n\tsliderIndex: 2,\n\t// each SceneView has its scenes the number of sceneNum.\n\tsceneNum: 2,\n\t// the index of the scene that being displayed currently.\n\tsceneCurIndex: 0,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * slided left or right. \n\t * a 'public' property used by SliderView.\n\t */\n\tslideAwayElementsDuration: 0,\n\n\t// things for createjs animations.\n\ttriceratops: 0,\n\tphone: 0,\n\tcloud: 0,\n\tcloudStage: 0,\n\ttriceratopsStage: 0,\n\tphoneStage: 0,\n\twarningRandom: Math.floor((Math.random() * 40) + 1),\n\twarningPedometer: 0,\n\tidleRandom: Math.floor((Math.random() * 3) + 1),\n\tidlePedometer: 0,\n\n\tevents: {\n\t\t\"tap .howTo\": \"anwser\",\n\t\t\"tap .solution\": \"jumpTo\"\n\t},\n\n\tinitialize: function() {\n\t\tvar self = this;\n\n\t\t/* setup the cloud that transmitting signals\n\t\t * on the first scene.\n\t\t * see lib/animations/cloud for the \"signal\"\n\t\t * animation.\n\t\t */\n\t\tself.cloud = new Cloud();\n\t\tself.cloudStage = new createjs.Stage($(\".cloudWithSignal\")[0]);\n\t\tself.cloud.x = 0;\n\t\tself.cloud.y = 0;\n\t\tself.cloud.gotoAndPlay(\"signal\");\n\t\tself.cloudStage.addChild(self.cloud);\n\n\t\t/* setup the yelling mobile phone on the \n\t\t * second scene.\n\t\t * see lib/animations/cloud for the \"warning\"\n\t\t * animation.\n\t\t */\n\t\tself.phone = new Phone();\n\t\tself.phoneStage = new createjs.Stage($(\".phone\")[0]);\n\t\tself.phone.x = 0;\n\t\tself.phone.y = 0;\n\t\tself.phone.gotoAndPlay(\"warning\");\n\t\tself.phoneStage.addChild(self.phone);\n\n\t\t/* setup the dizzy triceratops on the \n\t\t * second scene.\n\t\t * see lib/animations/cloud for the \"dizzy\"\n\t\t * animation.\n\t\t */\n\t\tself.triceratops = new Triceratops();\n\t\tself.triceratopsStage = new createjs.Stage($(\".triceratops\")[0]);\n\t\tself.triceratops.x = 0;\n\t\tself.triceratops.y = 0;\n\t\tself.triceratops.gotoAndPlay(\"dizzy\");\n\t\tself.triceratopsStage.addChild(self.triceratops);\n\n\t    createjs.Ticker.addListener(function () {\n\t    \tself.cloudStage.update();\n\t    \tself.phoneStage.update();\n\t    \tself.triceratopsStage.update();\n\t    });     \n\n\t\t_.bindAll(self, \"slideAwayElements\", \"slideAwayScene1Elements\", \"slideAwayScene2Elements\", \"slideInElements\", \n\t\t\t\t\t\t\"anwser\", \"jumpTo\");\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding get start.\n\t\t */\n\t\tapp.vent.on('view:slide:left:start', function(index) {\n\n\t\t\tif ( self.sliderIndex === index ) self.slideAwayElements();\n\n\t\t});\n\n\t\tapp.vent.on('view:slide:right:start', function(index) {\n\n\t\t\tif ( self.sliderIndex === index ) self.slideAwayElements();\n\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding was completed.\n\t\t */\n\t\tapp.vent.on(\"view:slide:left:end\", function(index) {\n\n\t\t\tif ( self.sliderIndex === index) self.slideInElements();\n\n\t\t});\n\n\t\tapp.vent.on(\"view:slide:right:end\", function(index) {\n\n\t\t\tif ( self.sliderIndex === index) self.slideInElements();\n\n\t\t});\n\t},\n\n\t/**\n\t * move sub elemnts of the first scene\n\t * out of the view, when the view starts \n\t * sliding away.\n\t */\n\tslideAwayScene1Elements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\".howTo\")\n\t\t.animate({\n\t\t\ttop: \"15%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 660, 'easeInQuart');\n\t},\n\n\t/**\n\t * move sub elemnts of the second scene\n\t * out of the view, when the view starts \n\t * sliding away.\n\t */\n\tslideAwayScene2Elements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\".solution\").animate({\n\t\t\tleft: \"-50%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart', function() {\n\t\t\tself.$(\".howTo\").animate({\n\t\t\t\tleft: \"11.13%\",\n\t\t\t\ttop: \"15%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\t\"opacity\": 0\n\t\t\t}, 500, 'easeOutQuart');\n\t\t});\n\n\t\tself.$(\".ready\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\n\t\tself.$(\".cloudWithSignal\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\n\t\tself.$(\".monster\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\n\t\tself.$(\".go\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\n\t\tself.$(\".phone\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\n\t\tself.$(\".cloud\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\n\t\tself.$(\".triceratops\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\t},\n\n\t/**\n\t * show up sub elemnts of the first scene \n\t * when the view was slided into view.\n\t */\n\tslideInElements: function() {\n\t\tvar self = this;\n\n\t\tvar _t = setTimeout(function() {\n\t\t\tself.$(\".howTo\")\n\t\t\t.animate({\n\t\t\t\ttop: \"20%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 200);\n\n\t\t\tclearTimeout(_t);\n\t\t}, 400);\n\n\t},\n\n\t/**\n\t * move sub elemnts of the scene that\n\t * currently displayed out of the view, \n\t * when the view starts sliding away.\n\t */\n\tslideAwayElements: function() {\n\t\tvar self = this;\n\n\t\tif ( 0 === self.sceneCurIndex ) {\n\t\t\tself.slideAwayScene1Elements();\n\t\t} else if ( 1 === self.sceneCurIndex ) {\n\t\t\tself.slideAwayScene2Elements();\n\t\t}\n\t},\n\n\tanwser: function() {\n\t\tvar self = this;\n\t\tself.sceneCurIndex = (self.sceneCurIndex < self.sceneNum - 1) ?\n\t\t\t\t\t\t\t\t(self.sceneCurIndex + 1) : (self.sceneNum - 1);\n\n\t\tself.$el.\n\t\tstop().animate({\n\t\t\tbackgroundPosition: \"(58% 40%)\"\n\t\t}, {\n\t\t\tduration: 680,\n\t\t\teasing: 'easeOutQuart'\n\t\t});\n\n\t\tself.$(\".howTo\").animate({\n\t\t\tleft: \"-50%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart', function() {\n\t\t\tself.$(\".solution\").animate({\n\t\t\t\tleft: \"11.13%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 400, 'easeOutQuart');\n\t\t});\n\n\t\tself.$(\".ready\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\t\n\t\tself.$(\".cloudWithSignal\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\n\t\tself.$(\".monster\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\n\t\tself.$(\".go\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\n\t\tself.$(\".phone\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\n\t\tself.$(\".cloud\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\n\t\tself.$(\".triceratops\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\t},\n\n\tjumpTo: function() {\n\t\t// jump to the \"#famlyChoice\" section.\n\t\tBackbone.history.navigate(\"!/feature/\" + 2, {\n\t        trigger: true\n\t    });\n\t}\n\n});","\nvar Survivor = require(\"../../lib/animations/survivor\");\n\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 4th SceneView: fourth sub-view of the SliderView.\n\t */\n\tsliderIndex: 3,\n\t// each SceneView has its scenes the number of sceneNum.\n\tsceneNum: 2,\n\t// the index of the scene that being displayed currently.\n\tsceneCurIndex: 0,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * slided left or right. \n\t * a 'public' property used by SliderView.\n\t */\n\tslideAwayElementsDuration: 0,\n\n\t// things for createjs animations.\n\tsurvivor: 0,\n\tsurvivorStage: 0,\n\n\tevents: {\n\t\t\"tap .howTo\": \"answer\",\n\t\t\"tap .solution\": \"jumpTo\"\n\t},\n\n\tinitialize: function() {\n\t\tvar self = this;\n\n\t\t/* setup the survivors that shaking their\n\t\t * hands on the second scene.\n\t\t * see lib/animations/cloud for the \"wave\"\n\t\t * animation.\n\t\t */\n\t\tself.survivor = new Survivor();\n\t\tself.survivorStage = new createjs.Stage($(\".survivor\")[0]);\n\t\tself.survivor.x = 0;\n\t\tself.survivor.y = 0;\n\t\tself.survivor.gotoAndPlay(\"wave\");\n\t\tself.survivorStage.addChild(self.survivor);\n\n\t\tcreatejs.Ticker.addListener(function () {\n\t    \tself.survivorStage.update();\n\t    }); \n\n\t\t_.bindAll(self, \"slideAwayScene1Elements\", \"slideAwayScene2Elements\", \"slideAwayElements\", \"slideInElements\", \n\t\t\t\t\t\t\"_lotusFloat\", \"lotusFloat\",\n\t\t\t\t\t\t\"answer\", \"jumpTo\");\n\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding get start.\n\t\t */\n\t\tapp.vent.on('view:slide:left:start', function(index) {\n\n\t\t\tif ( self.sliderIndex === index ) {\n\t\t\t\tself.slideAwayElements();\n\t\t\t}\n\n\t\t});\n\n\t\tapp.vent.on('view:slide:right:start', function(index) {\n\n\t\t\tif ( self.sliderIndex === index ) {\n\t\t\t\tself.slideAwayElements();\n\t\t\t}\n\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when sliding was completed.\n\t\t */\n\t\tapp.vent.on(\"view:slide:left:end\", function(index) {\n\n\t\t\tif ( self.sliderIndex === index) {\n\t\t\t\tself.slideInElements();\n\t\t\t}\n\n\t\t});\n\n\t\tapp.vent.on(\"view:slide:right:end\", function(index) {\n\n\t\t\tif ( self.sliderIndex === index) {\n\t\t\t\tself.slideInElements();\n\t\t\t}\n\t\t\t\n\t\t});\n\n\t\tself.lotusFloat();\n\n\t},\n\n\t/**\n\t * move sub elemnts of the first scene\n\t * out of the view, when the view starts \n\t * sliding away.\n\t */\n\tslideAwayScene1Elements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\".howTo\")\n\t\t.animate({\n\t\t\ttop: \"23%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 660, 'easeInQuart');\n\t},\n\n\t/**\n\t * move sub elemnts of the second scene\n\t * out of the view, when the view starts \n\t * sliding away.\n\t */\n\tslideAwayScene2Elements: function() {\n\t\tvar self = this;\n\n\t\tself.$(\".solution\").animate({\n\t\t\tleft: \"-50%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart', function() {\n\t\t\tself.$(\".howTo\").animate({\n\t\t\t\tleft: \"11.13%\",\n\t\t\t\ttop: \"23%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\t\"opacity\": 0\n\t\t\t}, 500, 'easeOutQuart');\n\t\t});\n\n\t\tself.$(\".lotus\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 100);\n\n\t\tself.$(\".cat\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)\",\n\t\t\t\"opacity\": 1\n\t\t}, 100);\n\n\t\tself.$(\".island\").animate({\n\t\t\t\"right\": \"11.93%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n        \t\"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\"opacity\": 1\n\t\t}, 400, 'easeInQuart');\n\n\t\tself.$(\".survivor\").animate({\n\t\t\t\"right\": \"6.93%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n        \t\"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart');\n\t},\n\n\t/**\n\t * show up sub elemnts of the first scene \n\t * when the view was slided into view.\n\t */\n\tslideInElements: function() {\n\t\tvar self = this;\n\n\t\tvar _t = setTimeout(function() {\n\t\t\tself.$(\".howTo\")\n\t\t\t.animate({\n\t\t\t\ttop: \"28%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 200);\n\n\t\t\tclearTimeout(_t);\n\t\t}, 400);\n\t},\n\n\t/**\n\t * move sub elemnts of the scene that\n\t * currently displayed out of the view, \n\t * when the view starts sliding away.\n\t */\n\tslideAwayElements: function() {\n\t\tvar self = this;\n\n\t\tif ( 0 === self.sceneCurIndex ) {\n\t\t\tself.slideAwayScene1Elements();\n\t\t} else if ( 1 === self.sceneCurIndex ) {\n\t\t\tself.slideAwayScene2Elements();\n\t\t}\n\t},\n\n\t/**\n\t * the essential processes of floating \n\t * lotus on the second scene.\n\t *\n\t * @$el: the lotus element.\n\t * @leftPos: left position of the lotus element.\n\t * @speed: the animation speed of the louts.\n\t */\n\t_lotusFloat: function( $el, leftPos, speed ) {\n\n\t\tsetInterval(function() {\n\t\t\t$el.animate({\n\t\t\t\tleft: (leftPos + 1) + \"%\"\n\t\t\t}, speed, function() {\n\t\t\t\t$el.animate({\n\t\t\t\t\tleft:  (leftPos - 1) + \"%\" \n\t\t\t\t}, speed, function() {\n\t\t\t\t\t$el.animate({\n\t\t\t\t\t\tleft: leftPos + \"%\"\n\t\t\t\t\t}, speed);\n\t\t\t\t});\n\t\t\t});\n\t\t}, (speed * 3) + 300 );\n\n\t},\n\n\t/** \n\t * floating lotus for the second scene.\n\t */\n\tlotusFloat: function() {\n\t\tvar self = this;\n\t\tvar $appleLotus = self.$(\".lotus .apple\"),\n\t\t\t$androidLotus = self.$(\".lotus .android\"),\n\t\t\t$msLotus = self.$(\".lotus .ms\");\n\n\t\tself._lotusFloat( $androidLotus, 48.33, 1300 );\n\t\tself._lotusFloat( $appleLotus, 0, 1200 );\n\t\tself._lotusFloat( $msLotus, 30.56, 1000 );\n\t},\n\n\tanswer: function() {\n\t\tvar self = this;\n\t\tself.sceneCurIndex = (self.sceneCurIndex < self.sceneNum - 1) ?\n\t\t\t\t\t\t\t\t(self.sceneCurIndex + 1) : (self.sceneNum - 1);\n\n\t\tself.$(\".howTo\").animate({\n\t\t\t\"left\": \"-50%\",\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart', function() {\n\t\t\tself.$(\".solution\").animate({\n\t\t\t\t\"left\": \"11.13%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 400, 'easeOutQuart');\n\t\t});\n\n\t\tself.$(\".cat\").animate({\n\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\"opacity\": 0\n\t\t}, 400, 'easeInQuart', function() {\n\t\t\tself.$(\".island\").animate({\n\t\t\t\t\"right\": \"15.93%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n            \t\"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n\t\t\t\t\"opacity\": 0\n\t\t\t}, 400, 'easeInQuart');\n\n\t\t\tself.$(\".survivor\").animate({\n\t\t\t\t\"right\": \"11.93%\",\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \t\"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 400, 'easeInQuart');\n\n\t\t\tself.$(\".lotus\").animate({\n\t\t\t\t\"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \t\"filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n\t\t\t\t\"opacity\": 1\n\t\t\t}, 400, 'easeInQuart');\n\t\t});\n\t},\n\n\tjumpTo: function() {\n\t\t// jump to the FamilyView\".\n\t\tBackbone.history.navigate(\"!/feature/\" + 2, {\n\t        trigger: true\n\t    });\n\t}\n\n});","\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 5th SceneView: fifth sub-view of the SliderView.\n\t */\n\tsliderIndex: 4,\n\t// each SceneView has its scenes the number of sceneNum.\n\tsceneNum: 1,\n\t// the index of the scene that being displayed currently.\n\tsceneCurIndex: 0,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * slided left or right. \n\t * a 'public' property used by SliderView.\n\t */\n\tslideAwayElementsDuration: 0,\n\n\tevents: {\n\t\t\"tap .joinUs\": \"joinUs\"\n\t},\n\n\tjoinUs: function() {\n\t\twindow.open(\"http://e.weibo.com/msftoffice2010\");\n\t}\n\n});","\nvar share2 = require(\"../lib/share\");\n\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 5th view: share to social platforms. \n\t *\t\t     and site info.\n\t */\n\tviewId: 4,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * scrolled up or down. \n\t * a 'public' property used by AppController.\n\t */\n\tscrollAwayElementsDuration: 0,\n\n\tevents: {\n\t\t\"tap .sina\": \"shareToSina\",\n\t\t\"tap .renren\": \"shareToRenren\"\n\t},\n\n\tinitialize: function() {\n\t\tvar self = this,\n\t\t\t$children = this.$el.children();\n\n\t\t_.bindAll(self, 'adjustViewHeight');\n\n\t\tself.adjustViewHeight();\n\t\t$(window).resize(self.adjustViewHeight);\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page start scrolling.\n\t\t */\n\t\tapp.vent.on('view:scrolling:up:start', function() {\n\t\t\tself.adjustViewHeight();\n\t\t});\n\n\t\tapp.vent.on('view:scrolling:down:start', function() {\n\t\t\tself.adjustViewHeight();\n\t\t});\n\t},\n\n\tadjustViewHeight: function() {\n\t\tvar self = this;\n\t\tvar\t$parent = self.$el.parent();\n\n\t\t/* 1. adjust the height of parent to be the actual height of window.\n\t\t * 2. this.$el.height == this.parent.$el.height(window.height) - nav.height.\n\t\t */ \n\t\t$parent.height( app.windowHeight() );\n\t\tself.$el.height( $parent.height() - $(\"#nav\").height() );\n\t},\n\n\tshareToSina: function() {\n\t\tshare2.sina();\n\t},\n\n\tshareToRenren: function() {\n\t\tshare2.renren();\n\t}\n});","\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 1st view: slider container and controller.\n\t */\n\tviewId: 0,\n\t/* suppose to be the estimated time of moving \n\t * the sub elements away before the view being \n\t * scrolled up or down. \n\t * a 'public' property used by AppController.\n\t * set it to 100ms thus leave some 'breathing time'\n\t * for the view before it is scrolled away even\n\t * if there isn't any sub element need to be moving\n\t * away.  \n\t */\n\tscrollAwayElementsDuration: 100,\n    /* each slider view ( SceneViews ) would have its children \n     * elements moving away in 'slideAwayElementsDuration' \n     * milliseconds before slided left/right. \n     * And this.slideAwayTimeOut is the setTimeout function \n     * that ensuring these 2 kind of animations being animated \n     * in proper order. just like app.scrollAwayTimeOut.\n     */\n\tslideAwayTimeOut: 0,\n\tsubViews: [],\n\tcurSubViewIndex: 0,\n\t$hammer: null,\n\n\tevents: {\n\t\t\"tap .slideLeft\": \"slideToLeftHandler\",\n\t\t\"tap .slideRight\": \"slideToRightHandler\",\n\t\t\"tap .slideThumbnail\": \"slideTo\"\n\t},\n\n\tinitialize: function( options ) {\n\t\tvar self = this;\n\t\t_.bindAll(self, 'adjustViewHeight',\n\t\t '_slideLeft', 'slideLeft', '_slideRight', 'slideRight',\n\t\t 'slideToLeftHandler', 'slideToRightHandler', 'slideTo',\n\t\t 'swipeLeftHandler', 'swipeRightHandler');\n\n\t\tself.adjustViewHeight();\n\t\t$(window).resize( self.adjustViewHeight );\n\n\t\tself.subViews = options.subViews;\n\t\tself.curSubViewIndex = 0;\n\n\t\t// touch device gestures supports using hammer.js.\n\t\tself.$hammer = self.$el.hammer({\n\t\t\tdrag_block_vertical: true,\n\t\t\tdrag_block_horizontal: true,\n            swipe_velocity: 0.5\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page start scrolling.\n\t\t */\n\t\tapp.vent.on('view:scrolling:up:start', function() {\n\t\t\tself.adjustViewHeight();\n\t\t});\n\n\t\tself.$hammer.on('swipeleft', self.swipeLeftHandler);\n\t\tself.$hammer.on('swiperight', self.swipeRightHandler);\n\n\t\tself.$el.css({\n\t        \"-ms-touch-action\": \"pan-y\",\n\t        \"touch-action\": \"pan-y\"\n    \t});\n\n\t},\n\n\tadjustViewHeight: function() {\n\t\tvar self = this;\n\t\tvar $parent = self.$el.parent();\n\n\t\t/* 1. adjust the height of parent to be the actual height of window.\n\t\t * 2. this.$el.height == this.parent.$el.height(window.height) - nav.height.\n\t\t */ \n\t\t$parent.height( app.windowHeight() );\n\t\tself.$el.height( $parent.height() - $(\"#nav\").height() );\n\t},\n\n\t/**\n\t * essential processes of sliding from right to left.\n\t *\n\t * @nextSlideIdx: index of the next slider view ( SceneViews ) \n\t *                that would be slided in.\n\t */\n\t_slideLeft: function( nextSlideIdx ) {\n\t\tvar self = this;\n\t\tvar $thumbnails = self.$(\".slideThumbnail\");\n\n\t\tif ( 'undefined' === typeof nextSlideIdx ) {\n\t\t\tif ( self.curSubViewIndex > 0 ) {\n\t\t\t\tnextSlideIdx = self.curSubViewIndex - 1\n\t\t\t} else {\n\t\t\t\tnextSlideIdx = 0;\n\t\t\t}\n\t\t} else {\n\t\t\tif ( nextSlideIdx < 0 \n\t\t\t\t|| nextSlideIdx > self.subViews.length\n\t\t\t\t|| nextSlideIdx >= self.curSubViewIndex ) {\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tself.curSubViewIndex = nextSlideIdx;\n\n\t\t// switch thumbnails.\t\t\n\t\t$thumbnails\n\t\t.eq(self.curSubViewIndex)\n\t\t.attr(\"src\", \"images/sliders/thumbnails/\" + self.curSubViewIndex + \"/active.png\");\n\n\t\t// animate '<-' and '->' buttons.\n\t\tif ( 0 === self.curSubViewIndex ) {\n\t\t\tself.$(\".slideLeft\").stop().fadeOut(50);\n\t\t}\n\n\t\tif ( self.curSubViewIndex !== ( self.subViews.length - 1 ) ) {\n\t\t\tif ( \"none\" === self.$(\".slideRight\").css(\"display\") ) {\n\t\t\t\tself.$(\".slideRight\").stop().fadeIn('fast');\n\t\t\t}\n\t\t}\n\n\t\t// slide the next slider in.\n\t\tif ( app.isiPad ) {\n\t\t\t// XXX: 'easeInQuart' animations couldn't be rendered properly on iPad safari.\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.css('left', '-100%')\n\t\t\t.animate({\n\t\t\t\tleft: 0\n\t\t\t}, 620, function() {\n\t\t        /* notify the next slider view ( SceneViews ) that the slide \n\t\t         * transition has been completed, go on with your jobs.\n\t\t         */\n\t\t\t\tapp.vent.trigger(\"view:slide:left:end\", self.curSubViewIndex);\n\t\t\t});\n\t\t} else {\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.css('left', '-100%')\n\t\t\t.animate({\n\t\t\t\tleft: 0\n\t\t\t}, 650, 'easeInQuart', function() {\n\t\t        /* notify the next slider view ( SceneViews ) that the slide \n\t\t         * transition has been completed, go on with your jobs.\n\t\t         */\n\t\t\t\tapp.vent.trigger(\"view:slide:left:end\", self.curSubViewIndex);\n\t\t\t});\n\t\t}\n\t},\n\n\n\t/**\n\t * slide from right to left.\n\t *\n\t * @nextSlideIdx: index of the next slider view ( SceneViews ) \n\t *                that would be slided in.\n\t */\n\tslideLeft: function( nextSlideIdx ) {\n\t\tvar self = this;\n\t\tvar $thumbnails = self.$(\".slideThumbnail\");\n\n\t\t/* notify the current slider view ( SceneViews ) to prepare its \n         * sliding through the pub/sub system. the correspond sub \n         * view who subscribes this messeage would take care of its \n         * animations itself.\n         */\n\t\tapp.vent.trigger(\"view:slide:left:start\", self.curSubViewIndex);\n\n\t\t// switch thumbnails.\t\t\n\t\t$thumbnails\n\t\t.eq(self.curSubViewIndex)\n\t\t.attr(\"src\", \"images/sliders/thumbnails/\" + self.curSubViewIndex + \"/inactive.png\");\n\n\t\t// slide the current slider away.\n\t\tif ( app.isiPad ) {\n\t\t\t// XXX: 'easeInQuart' animations couldn't be rendered properly on iPad safari.\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.animate({\n\t\t\t\tleft: \"100%\"\n\t\t\t}, 620);\n\t\t} else {\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.animate({\n\t\t\t\tleft: \"100%\"\n\t\t\t}, 720, 'easeInQuart');\n\t\t}\t\t\t\n\n        /* slide the next slider view ( SceneViews ) in after the sub \n         * elements of previous slider view being moving away in \n         * 'slideAwayElementsDuration' milliseconds.\n         */\n\t\tself.slideAwayTimeOut = setTimeout(function () {\n\n\t\t\tself._slideLeft( nextSlideIdx );\n\t\t\tclearTimeout( self.slideAwayTimeOut );\n\n\t\t}, self.subViews[self.curSubViewIndex].slideAwayElementsDuration);\n\n\t},\n\n\t/**\n\t * essential processes of sliding from left to right.\n\t *\n\t * @nextSlideIdx: index of the next slider view ( SceneViews ) \n\t *                that would be slided in.\n\t */\n\t_slideRight: function( nextSlideIdx ) {\n\t\tvar self = this;\n\t\tvar $thumbnails = self.$(\".slideThumbnail\");\n\n\t\tif ( 'undefined' === typeof nextSlideIdx ) {\n\t\t\tif ( self.curSubViewIndex < self.subViews.length - 1 ) {\n\t\t\t\tnextSlideIdx = self.curSubViewIndex + 1\n\t\t\t} else {\n\t\t\t\tnextSlideIdx = self.subViews.length - 1;\n\t\t\t}\n\t\t} else {\n\t\t\tif ( nextSlideIdx < 0 \n\t\t\t\t|| nextSlideIdx > self.subViews.length\n\t\t\t\t|| nextSlideIdx <= self.curSubViewIndex ) {\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tself.curSubViewIndex = nextSlideIdx;\n\n\t\t// switch thumbnails.\t\t\n\t\t$thumbnails\n\t\t.eq(self.curSubViewIndex)\n\t\t.attr(\"src\", \"images/sliders/thumbnails/\" + self.curSubViewIndex + \"/active.png\");\n\n\t\t// animate '<-' and '->' buttons.\n\t\tif ( 0 !== self.curSubViewIndex ) {\n\t\t\tif ( \"none\" === self.$(\".slideLeft\").css(\"display\") ) {\n\t\t\t\tself.$(\".slideLeft\").stop().fadeIn('fast');\n\t\t\t}\n\t\t}\n\n\t\tif ( self.curSubViewIndex === ( self.subViews.length - 1 ) ) {\n\t\t\tself.$(\".slideRight\").stop().fadeOut(50);\n\t\t}\n\n\t\t// slide the next slider in.\n\t\tif ( app.isiPad ) {\n\t\t\t// XXX: 'easeInQuart' animations couldn't be rendered properly on iPad safari.\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.css('left', '100%')\n\t\t\t.animate({\n\t\t\t\tleft: 0\n\t\t\t}, 620, function() {\n\t\t        /* notify the next slider view ( SceneViews ) that the slide \n\t\t         * transition has been completed, go on with your jobs.\n\t\t         */\n\t\t\t\tapp.vent.trigger(\"view:slide:right:end\", self.curSubViewIndex);\n\t\t\t});\n\t\t} else {\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.css('left', '100%')\n\t\t\t.animate({\n\t\t\t\tleft: 0\n\t\t\t}, 650, 'easeInQuart', function() {\n\t\t        /* notify the next slider view ( SceneViews ) that the slide \n\t\t         * transition has been completed, go on with your jobs.\n\t\t         */\n\t\t\t\tapp.vent.trigger(\"view:slide:right:end\", self.curSubViewIndex);\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * slide from left to right.\n\t *\n\t * @nextSlideIdx: index of the next slider view ( SceneViews )\n\t *\t\t\t\t  that would be slided in.\n\t */\n\tslideRight: function( nextSlideIdx ) {\n\t\tvar self = this;\n\t\tvar $thumbnails = self.$(\".slideThumbnail\");\n\n\t\t/* notify the current slider view ( SceneViews ) to prepare its \n         * sliding through the pub/sub system. the correspond sub \n         * view who subscribes this messeage would take care of its \n         * animations itself.\n         */\n\t\tapp.vent.trigger(\"view:slide:right:start\", self.curSubViewIndex);\n\n\t\t// switch thumbnails.\t\t\n\t\t$thumbnails\n\t\t.eq(self.curSubViewIndex)\n\t\t.attr(\"src\", \"images/sliders/thumbnails/\" + self.curSubViewIndex + \"/inactive.png\");\n\n\t\t// slide the current slider away.\n\t\tif ( app.isiPad ) {\n\t\t\t// XXX: 'easeInQuart' animations couldn't be rendered properly on iPad safari.\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.animate({\n\t\t\t\tleft: \"-100%\"\n\t\t\t}, 620);\n\t\t} else {\n\t\t\tself.$(\".slide\").eq(self.curSubViewIndex)\n\t\t\t.animate({\n\t\t\t\tleft: \"-100%\"\n\t\t\t}, 720, 'easeInQuart');\n\t\t}\t\t\t\n\n        /* slide the next slider view ( SceneViews ) in after the sub \n         * elements of previous slider view being moving away in \n         * 'slideAwayElementsDuration' milliseconds.\n         */\n\t\tself.slideAwayTimeOut = setTimeout(function () {\n\n\t\t\tself._slideRight( nextSlideIdx );\n\t\t\tclearTimeout( self.slideAwayTimeOut );\n\n\t\t}, self.subViews[self.curSubViewIndex].slideAwayElementsDuration);\n\n\t},\n\n\t/**\n\t * \"<-\" button click/tap event handler. \n\t */\n\tslideToLeftHandler: function() {\n\t\tvar self = this;\n\n\t\t/* dereference the click/tap event handler of \"<-\", \"->\" buttons \n\t\t * and slider thumbnails firstly.\n\t\t * this is for preventing unormal quick swiching between slides.\n\t\t */\n\t    self.undelegateEvents();\n\t\tself.slideLeft();\n\n\t\t// restore the click/tap responses of slider thumbnails when sliding being completed.\n\t\tapp.vent.on('view:slide:left:end', function() {\n\t\t\tself.delegateEvents();\n\t\t});\n\t},\n\n\t/**\n\t * \"->\" button click/tap event handler.\n\t */\n\tslideToRightHandler: function() {\n\t\tvar self = this;\n\n\t\t/* dereference the click/tap event handler of \"<-\", \"->\" buttons \n\t\t * and slider thumbnails firstly.\n\t\t * this is for preventing unormal quick swiching between slides.\n\t\t */\n\t    self.undelegateEvents();\n\t\tself.slideRight();\n\n\t\t// restore the click/tap responses of slider thumbnails when sliding being completed.\n\t\tapp.vent.on('view:slide:right:end', function() {\n\t\t\tself.delegateEvents();\n\t\t});\n\t},\n\n\t/** \n\t * thumbnails click/tap event handler.\n\t */\n\tslideTo: function( e ) {\n\t\tvar self = this;\n\t\tvar nextSlideIdx = self.$(\".slideThumbnail\").index(e.currentTarget);\n\n\t\tif ( nextSlideIdx >= self.subViews.length || nextSlideIdx < 0 ) return false;\n\n\t\t/* dereference the click/tap event handler of \"<-\", \"->\" buttons \n\t\t * and slider thumbnails firstly.\n\t\t * this is for preventing unormal quick swiching between slides.\n\t\t */\n\t\tif ( 0 !== nextSlideIdx - self.curSubViewIndex ) self.undelegateEvents();\n\n\t\tif ( nextSlideIdx - self.curSubViewIndex > 0 ) {\n\t\t\tself.slideRight( nextSlideIdx );\n\t\t} else if ( nextSlideIdx - self.curSubViewIndex < 0 ) {\n\t\t\tself.slideLeft( nextSlideIdx );\n\t\t}\n\n\t\t// restore the click/tap responses of slider thumbnails when sliding being completed.\n\t\tapp.vent.on('view:slide:left:end', function() {\n\t\t\tself.delegateEvents();\n\t\t});\n\n\t\t// restore the clicking response of slider thumbnails as sliding being completed.\n\t\tapp.vent.on('view:slide:right:end', function() {\n\t\t\tself.delegateEvents();\n\t\t});\n\t},\n\n\tswipeLeftHandler: function( e ) {\n\t\tvar self = this;\n\n\t\tif ( self.curSubViewIndex >= (self.subViews.length - 1) ) return false;\n\n\t\tif ( \"mouse\" !== e.gesture.pointerType ) {\n\t\t \tself.slideToRightHandler();\n\t\t}\n\t},\n\n\tswipeRightHandler: function( e ) {\n\t\tvar self = this;\n\n\t\tif ( self.curSubViewIndex <= 0 ) return false;\n\n\t\tif ( \"mouse\" !== e.gesture.pointerType ) {\n\t\t \tself.slideToLeftHandler();\n\t\t}\n\t}\n\t\n});","\nmodule.exports = Marionette.ItemView.extend({\n\n\t/**\n\t * 4th view.\n\t */\n\tviewId: 3,\n\t/* the estimated time of moving the sub \n\t * elements away before the view being \n\t * scrolled up or down. \n\t * a 'public' property used by AppController.\n\t */\n\tscrollAwayElementsDuration: 0,\n\n\t/**\n\t * tile is expanded or not.\n\t *\tnormal size state : false; \n\t *\texpanded state    : true; \n\t */ \n\ttileExpandedStates: [false, false, false, false, false, false],\n\n\t/**\n\t * tile is being hovered or not, true of false.\n\t */ \n\ttileHoveredStates: [false, false, false, false, false, false],\n\n\tevents: {\n\t\t\"mouseleave .tile\": \"hideTileIntro\"\n\t},\n\n\tinitialize: function() {\n\t\tvar self = this;\n\n\t\t_.bindAll(self, 'adjustViewHeight', \n\t\t\t\t'scrollElements', 'scrollAwayElements', 'scrollInElements',\n\t\t\t\t'_showTileIntro', 'showTileIntro',\n\t\t\t\t'_showTileTitle', 'showTileTitle',\n\t\t\t\t'_hideTileIntro', 'hideTileIntro', 'resetTiles',\n\t\t\t\t'learnMore'\n\t\t\t\t);\n\n\t\tself.adjustViewHeight();\n\t\t$(window).resize(function() {\n\t\t\tself.resetTiles();\n\t\t\tself.adjustViewHeight();\n\t\t});\n\t\tself.scrollAwayElements();\n\t\t\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page start scrolling.\n\t\t */\n\t\tapp.vent.on('view:scrolling:up:start', function( index ) {\n\t\t\tself.adjustViewHeight();\n\n\t\t\tif ( ( self.viewId - 1 ) === index ) self.resetTiles(); \n\t\t\telse if ( ( self.viewId ) === index ) self.scrollAwayElements();\n\t\t});\n\n\t\tapp.vent.on('view:scrolling:down:start', function( index ) {\n\t\t\tself.adjustViewHeight();\n\n\t\t\tif ( ( self.viewId + 1 ) === index ) self.resetTiles(); \n\t\t\telse if ( ( self.viewId ) === index ) self.scrollAwayElements();\n\t\t});\n\n\t\t/* subscribe broadcast event. \n\t\t * get notified when page scrolling was completed.\n\t\t */\n        app.vent.on('view:scrolling:up:completed', function( index ) {\n\n        \tif ( self.viewId === index ) self.scrollInElements();\n        });\n\n        app.vent.on('view:scrolling:down:completed', function( index ) {\n\n        \tif ( self.viewId === index ) self.scrollInElements();\n        });\n        \n        self.$el.hammer().on('touch', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            e.gesture.stopPropagation();\n            e.gesture.preventDefault();\n        });\n\n        self.$(\".tile\").bind('mousestop', self.showTileTitle);\n        self.$(\".tile\").hammer().on('tap', self.showTileIntro);\n\n        if ( isMobile ) {\n        \tself.$el.find(\".learnMore\").hammer().on('tap', self.learnMore);\n        }\n\n\t},\n\n\tadjustViewHeight: function() {\n\t\tvar self = this;\n\t\tvar $parent = self.$el.parent();\n\n\t\t/* 1. adjust the height of parent to be the actual height of window.\n\t\t * 2. this.$el.height == this.parent.$el.height(window.height) - nav.height.\n\t\t */ \n\t\t$parent.height(app.windowHeight());\n\t\tself.$el.height( $parent.height() - $(\"#nav\").height() );\n\t},\n\n\t/**\n\t * animate sub elements of the current view when \n\t * it was scrolled into view or scrolled away.\n\t *\n\t * @bpx: object paramaters.\n\t *       backgoround-position-x for all sub-tiles.\n\t * @bpy: object paramaters.\n\t *       backgoround-position-y for all sub-tiles.\n\t * @dur: duration of backgroundPosition animations.\n\t * @ease: backgroundPosition animation easing.\n\t */\n\tscrollElements: function( bpx, bpy, dur, ease ) {\n\t\tvar self = this,\n\t\t\t$children = this.$el.children();\n\n\t\tif ( bpx.length !== $children.length || bpy.length !== $children.length ) {\n\t\t\tconsole.error(\"there are \" + $children.length + \" children within <div id=\\\"\" + this.$el.attr('id') + \"\\\">, you haven\\'t provided enough background-poistions for them:)\");\n\t\t\treturn false;\n\t\t}\n\n\t\tfor ( var i = 0; i < $children.length; i++ ) {\n\t\t\t$children.eq(i).find(\".tileFigure\")\n\t\t\t.stop().animate({\n\t\t\t\tbackgroundPosition: \"(\" + bpx[i] + \" \" + bpy[i] + \")\"\n\t\t\t}, {\n\t\t\t\tduration: dur,\n\t\t\t\teasing: ease\n\t\t\t});\t\n\t\t}\n\t},\n\n\t/**\n\t * move sub elemnts out of the view, \n\t * when the view starts scrolled away.\n\t */\n\tscrollAwayElements: function() {\n\t\tvar bpx = [\"left\", \"50%\", \"50%\", \"50%\", \"50%\", \"50%\"],\n\t\t\tbpy = [\"5%\", \"70%\", \"60%\", \"60%\", \"60%\", \"60%\"],\n\t\t\tdur = 200,\n\t\t\tease = 'easeInQuart';\n\n\t\treturn this.scrollElements(bpx, bpy, dur, ease);\n\t},\n\n\t/**\n\t * show up sub elemnts when the view \n\t * was scrolled into view.\n\t */\n\tscrollInElements: function() {\n\t\tvar bpx = [\"left\", \"50%\", \"50%\", \"50%\", \"50%\", \"50%\"],\n\t\t\tbpy = [\"10%\", \"60%\", \"50%\", \"50%\", \"50%\", \"50%\"],\n\t\t\tdur = 200,\n\t\t\tease = 'easeOutQuart';\n\n\t\treturn this.scrollElements(bpx, bpy, dur, ease);\n\t},\n\n\t/**\n\t * the essential animations of 'showTileTitle'.\n\t *\n\t * @$el: the tile element being hovered.\n\t * @bgPos: background-position of .tileContent.\n\t */\n\t_showTileTitle: function( $el, bgPos ) {\n\t\tvar self = this;\n\t\tvar $figure = $el.find(\".tileFigure\");\n\t\tvar $title = $figure.find(\".tileTitle\");\n\t\tvar idx = self.$(\".tile\").index($el); \n\n\t\tif ( ! self.tileHoveredStates[idx] ) {\n\t\t\tself.tileHoveredStates[idx] = true;\n\n\t\t\t$figure.animate({\n\t\t\t\tbackgroundSize: \"-=20%\",\n\t\t\t\tbackgroundPosition: bgPos\n\t\t\t}, 300, \"easeOutBack\");\n\n\t\t\t$title.animate({\n\t\t\t\tbottom: 0\n\t\t\t}, 250, \"easeOutQuart\");\n\t\t}\n\n\t},\n\n\t/**\n\t * show off the title of the hovered tile.\n\t */\n\tshowTileTitle: function(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tvar self = this;\n\t\tvar $elem = $(e.currentTarget);\n\t\tvar idx = self.$(\".tile\").index($elem);\n\n\t\tif ( 0 === idx ) {\n\t\t\t// show off the title of 'chemistry' tile.\n\t\t\tself._showTileTitle($elem, \"(10% 10%)\");\n\t\t} else if ( 1 === idx ) {\n\t\t\t// show off the title of 'shining' tile.\n\t\t\tself._showTileTitle($elem, \"(center 50%)\");\n\t\t} else if ( 2 === idx ) {\n\t\t\t// show off the title of 'judo' tile.\n\t\t\tself._showTileTitle($elem, \"(center center)\");\n\t\t} else if ( 3 === idx ) {\n\t\t\t// show off the title of 'form' tile.\n\t\t\tself._showTileTitle($elem, \"(center center)\");\n\t\t} else if ( 4 === idx ) {\n\t\t\t// show off the title of 'tablet' tile.\n\t\t\tself._showTileTitle($elem, \"(center center)\");\n\t\t} else if ( 5 === idx ) {\n\t\t\t// show off the title of 'lion' tile.\n\t\t\tself._showTileTitle($elem, \"(center center)\");\n\t\t}\n\t},\n\n\t/**\n\t * the essential animations of 'showTileIntro'.\n\t *\n\t * @$el: the tile element being clicked/tapped.\n\t * @direct: the tile could be expanded from \n\t *\t\t\t'Left2Right', 'Left2Right', 'Top2Bottom' or 'Bottom2Top'\n\t *\t\t\tdepends on its current position.\n\t */\n\t_showTileIntro: function( $el, direct ) {\n\t\tvar self = this;\n\t\tvar $figure = $el.find(\".tileFigure\");\n\t\tvar $content = $el.find(\".tileContent\");\n\t\tvar idx = self.$(\".tile\").index($el);\n\t\tvar elAnimateProperties = {};\n\t\tvar figureAnimateProperties = {\n\t\t\twidth: $el.width() * 0.96,\n\t\t\theight: $el.height() * 0.96\n\t\t};\n\n\t\tif ( ! self.tileExpandedStates[idx] ) {\n\n\t\t\tif ( \"Left2Right\" === direct ) {\n\n\t\t\t\telAnimateProperties.width = $el.width() * 2;\n\t\t\t\telAnimateProperties.left = 0;\n\n\t\t\t\tfigureAnimateProperties.left = \"+=1%\";\n\t\t\t\tfigureAnimateProperties.top = \"+=2%\";\n\n\t\t\t} else if ( \"Right2Left\" === direct ) {\n\n\t\t\t\telAnimateProperties.width = $el.width() * 2;\n\t\t\t\telAnimateProperties.right = 0;\n\n\t\t\t\tfigureAnimateProperties.right = \"+=1%\";\n\t\t\t\tfigureAnimateProperties.top = \"+=2%\";\n\n\t\t\t} else if ( \"Top2Bottom\" === direct ) {\n\n\t\t\t\telAnimateProperties.height = $el.height() * 2;\n\t\t\t\telAnimateProperties.top = 0;\n\n\t\t\t\tfigureAnimateProperties.left = \"+=2%\";\n\t\t\t\tfigureAnimateProperties.top = \"+=1%\";\n\n\t\t\t} else if ( \"Bottom2Top\" === direct ) {\n\n\t\t\t\telAnimateProperties.height = $el.height() * 2;\n\t\t\t\telAnimateProperties.top = 0;\n\n\t\t\t\tfigureAnimateProperties.left = \"+=2%\";\n\t\t\t\tfigureAnimateProperties.bottom = \"+=1%\";\n\n\t\t\t}\n\n\t\t\t$figure.animate(figureAnimateProperties, 100, \"easeOutQuart\", function() {\n\t\t\t\t$el.css({\n\t\t\t\t\t\"z-index\": 999\n\t\t\t\t});\n\t\t\t\t$el.animate(elAnimateProperties, 100, \"easeOutQuart\", function() {\n\t\t\t\t\t$content.show();\n\t\t\t\t\tself.tileExpandedStates[idx] = true;\n\t\t\t\t\tself.$(\".tile\").hammer().on('tap', self.showTileIntro);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * show off the introduction of a tile.\n\t */\n\tshowTileIntro: function( e ) {\n\t\tvar self = this;\n\t\tvar $elem = $(e.currentTarget);\n\t\tvar idx = self.$(\".tile\").index($elem);\n\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t\te.gesture.stopPropagation();\n        e.gesture.preventDefault();\n\n\t\tif ( ! self.tileExpandedStates[idx] ) {\n\t\t\tself.$(\".tile\").hammer().off(\"tap\");\n\n\t\t\tif ( \"mouse\" !== e.gesture.pointerType ) {\n\t\t\t\t// reset positions, width, height, etc. of all tiles.\n\t\t\t\tself.resetTiles();\n\t\t\t} else {\n\t\t\t\tself.tileExpandedStates[idx] = false;\n\t\t\t} \n\n\t\t\t// show off the title of the touched tile.\n\t\t\tself._showTileTitle($elem); \n\n\t\t\tif ( 0 === idx ) {\n\t\t\t// show off the intro box of 'chemistry' tile.\n\t\t\t\tself._showTileIntro($elem, \"Left2Right\");\n\t\t\t} else if ( 1 === idx ) {\n\t\t\t\t// show off the intro box of 'shining' tile.\n\t\t\t\tself._showTileIntro($elem, \"Top2Bottom\");\n\t\t\t} else if ( 2 === idx ) {\n\t\t\t\t// show off the intro box of 'judo' tile.\n\t\t\t\tself._showTileIntro($elem, \"Right2Left\");\n\t\t\t} else if ( 3 === idx ) {\n\t\t\t\t// show off the intro box of 'form' tile.\n\t\t\t\tself._showTileIntro($elem, \"Left2Right\");\n\t\t\t} else if ( 4 === idx ) {\n\t\t\t\t// show off the intro box of 'tablet' tile.\n\t\t\t\tself._showTileIntro($elem, \"Bottom2Top\");\n\t\t\t} else if ( 5 === idx ) {\n\t\t\t\t// show off the intro box of 'lion' tile.\n\t\t\t\tself._showTileIntro($elem, \"Right2Left\");\n\t\t\t}\n\t\t}\n\n\t},\n\n\t/**\n\t * the essential animations of 'hideTileIntro'.\n\t *\n\t * @$el: the tile element being clicked.\n\t * @direct: if expand the tile from 'Left2Right',\n\t *\t\t\twe narrow it down from 'Right2Left' and vice versa. \n\t *\t\t\tthe same as Top-Bottom directions.\n\t * @bgPos: the original background-position of the tile.\n\t */\n\t_hideTileIntro: function( $el, direct, bgPos ) {\n\t\tvar self = this;\n\t\tvar idx = self.$(\".tile\").index($el);\n\t\tvar $figure = $el.find(\".tileFigure\");\n\t\tvar $title = $figure.find(\".tileTitle\");\n\t\tvar $content = $el.find(\".tileContent\");\n\t\tvar elAnimateProperties = {};\n\t\tvar figureCSSProperties = {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\"\n\t\t};\n\n\n\t\tif ( self.tileExpandedStates[idx] ) {\n\t\t\tself.tileExpandedStates[idx] = false;\n\n\t\t\t$content.hide();\n\n\t\t\tif ( \"Right2Left\" === direct ) {\n\n\t\t\t\telAnimateProperties.width = $el.width() / 2;\n\t\t\t\telAnimateProperties.left = 0;\n\n\t\t\t\tfigureCSSProperties.left = 0;\n\t\t\t\tfigureCSSProperties.top = 0;\n\n\t\t\t} else if ( \"Left2Right\" === direct ) {\n\n\t\t\t\telAnimateProperties.width = $el.width() / 2;\n\t\t\t\telAnimateProperties.right = 0;\n\n\t\t\t\tfigureCSSProperties.right = 0;\n\t\t\t\tfigureCSSProperties.top = 0;\n\n\t\t\t} else if ( \"Bottom2Top\" === direct ) {\n\n\t\t\t\telAnimateProperties.height = $el.height() / 2;\n\t\t\t\telAnimateProperties.top = 0;\n\n\t\t\t\tfigureCSSProperties.top = 0;\n\t\t\t\tfigureCSSProperties.left = 0;\n\n\t\t\t} else if ( \"Top2Bottom\" === direct ) {\n\n\t\t\t\telAnimateProperties.height = $el.height() / 2;\n\t\t\t\telAnimateProperties.top = \"49.99999%\";\n\n\t\t\t\tfigureCSSProperties.bottom = 0;\n\t\t\t\tfigureCSSProperties.left = 0;\n\n\t\t\t}\n\n\t\t\t$el.css({\n\t\t\t\t\"z-index\": 0 \n\t\t\t});\n\n\t\t\t$el.animate(elAnimateProperties, 50, \"easeOutQuart\", function() {\n\t\t\t\t$el.css({\n\t\t\t\t\twidth: \"33.33333%\",\n\t\t\t\t\theight: \"49.99999%\"\n\t\t\t\t});\n\t\t\t\t$figure.css(figureCSSProperties);\n\t\t\t});\n\t\t}\n\n\t\tif ( self.tileHoveredStates[idx] ) {\n\t\t\tself.tileHoveredStates[idx] = false;\n\n\t\t\t$figure.animate({\n\t\t\t\tbackgroundSize: \"+=20%\",\n\t\t\t\tbackgroundPosition: bgPos\n\t\t\t}, 70);\n\n\t\t\t$title.animate({\n\t\t\t\tbottom: \"-30%\"\n\t\t\t}, 100);\n\t\t}\n\t\t\n\t},\n\n\t/**\n\t * hide the introduction of a tile.\n\t */\n\thideTileIntro: function( e ) {\n\t\tvar self = this;\n\t\tvar $elem = $(e.currentTarget);\n\t\tvar idx = self.$(\".tile\").index($elem);\n\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tif ( 0 === idx ) {\n\t\t\t// hide the intro box of 'chemistry' tile.\n\t\t\tself._hideTileIntro($elem, 'Right2Left', \"(0 0)\");\n\t\t} else if ( 1 === idx ) {\n\t\t\t// hide the intro box of 'shining' tile.\n\t\t\tself._hideTileIntro($elem, 'Bottom2Top', \"(center 60%)\");\n\t\t} else if ( 2 === idx ) {\n\t\t\t// hide the intro box of 'judo' tile.\n\t\t\tself._hideTileIntro($elem, 'Left2Right', \"(center center)\");\n\t\t} else if ( 3 === idx ) {\n\t\t\t// hide the intro box of 'form' tile.\n\t\t\tself._hideTileIntro($elem, 'Right2Left', \"(center center)\");\n\t\t} else if ( 4 === idx ) {\n\t\t\t// hide the intro box of 'tablet' tile.\n\t\t\tself._hideTileIntro($elem, 'Top2Bottom', \"(center center)\");\n\t\t} else if ( 5 === idx ) {\n\t\t\t// hide the intro box of 'lion' tile.\n\t\t\tself._hideTileIntro($elem, 'Left2Right', \"(center center)\");\n\t\t}\n\t},\n\n\t/**\n\t * reset the properties of expanded tiles.\n\t */\n\tresetTiles: function() {\n\t\tvar self = this;\n\n\t\tself._hideTileIntro(self.$(\".tile1\"), 'Right2Left', \"(0 0)\");\n\t\tself._hideTileIntro(self.$(\".tile2\"), 'Bottom2Top', \"(center 60%)\");\n\t\tself._hideTileIntro(self.$(\".tile3\"), 'Left2Right', \"(center center)\");\n\t\tself._hideTileIntro(self.$(\".tile4\"), 'Right2Left', \"(center center)\");\n\t\tself._hideTileIntro(self.$(\".tile5\"), 'Top2Bottom', \"(center center)\");\n\t\tself._hideTileIntro(self.$(\".tile6\"), 'Left2Right', \"(center center)\");\n\t},\n\n\tlearnMore: function(e) {\n\t\tvar self = this;\n\t\tvar $elem = $(e.currentTarget);\n\t\tvar idx = self.$el.find(\".learnMore\").index($elem);\n\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tif ( 0 === idx ) {\n\t\t\twindow.open(\"http://office.microsoft.com/zh-cn/powerpoint-help/HA102749750.aspx?WT.mc_id=Soc_WeiBo_Q1Jul_PPTHA_705\", \"_blank\");\n\t\t} else if ( 1 === idx ) {\n\t\t\twindow.open(\"http://office.microsoft.com/zh-cn/powerpoint-help/VA103988959.aspx?WT.mc_id=Soc_WeiBo_Q1Jul_PPTVA_959\", \"_blank\");\n\t\t} else if ( 2 === idx ) {\n\t\t\twindow.open(\"http://office.microsoft.com/zh-cn/powerpoint-help/HA102840202.aspx?WT.mc_id=Soc_WeiBo_Q1Jul_PPTHA_202\", \"_blank\");\n\t\t} else if ( 3 === idx ) {\n\t\t\twindow.open(\"http://office.microsoft.com/zh-cn/excel-help/HA102809330.aspx?WT.mc_id=Soc_WeiBo_Q1Jul_XLHA_330\", \"_blank\");\n\t\t} else if ( 4 === idx ) {\n\t\t\twindow.open(\"http://office.microsoft.com/zh-cn/support/VA102834142.aspx?WT.mc_id=Soc_WeiBo_Q1Jul_OneVA_142\", \"_blank\");\n\t\t} else if ( 5 === idx ) {\n\t\t\twindow.open(\"http://office.microsoft.com/zh-cn/powerpoint-help/HA102809628.aspx?WT.mc_id=Soc_WeiBo_Q1Jul_PPTHA_628\", \"_blank\");\n\t\t}\n\t}\n\n\n});"]}